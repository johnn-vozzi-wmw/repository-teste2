/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.00' WHERE CDSISTEMA = 20;
UPDATE TBLVPSISTEMA SET NMSISTEMA = 'WMW Vendas Smartphone' WHERE CDSISTEMA = 20;


DROP TABLE TBLVPMETASPORPRODUTO;
GO

CREATE TABLE TBLVPMETASPORPRODUTO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   DSPERIODO            VARCHAR(30)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   VLMETA               DECIMAL(16,7)        NULL,
   VLREALIZADO          DECIMAL(16,7)        NULL,
   NUSEQUENCIA          VARCHAR(20)          NULL,
   QTUNIDADEMETA        DECIMAL(16,7)        NULL,
   QTCAIXAMETA          DECIMAL(16,7)        NULL,
   QTMIXCLIENTEMETA     DECIMAL(16,7)        NULL,
   QTUNIDADEREALIZADO   DECIMAL(16,7)        NULL,
   QTCAIXAREALIZADO     DECIMAL(16,7)        NULL,
   QTMIXCLIENTEREALIZADO DECIMAL(16,7)        NULL,
   DSPRODUTO            VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPMETASPORPRODUTO PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, DSPERIODO, CDPRODUTO, CDUSUARIO)
)
go

DROP TABLE TBLVPRESTRICAOVENDACLI;
GO

CREATE TABLE TBLVPRESTRICAOVENDACLI (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDRESTRICAOVENDAPROD VARCHAR(20)          NOT NULL,
   CDRESTRICAOVENDACLI  VARCHAR(20)          NOT NULL,
   FLBLOQUEIAVENDA      CHAR(1)              NULL,
   FLBLOQUEIAALTERACAOPRECO CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPRESTRICAOVENDACLI PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDRESTRICAOVENDAPROD, CDRESTRICAOVENDACLI, CDUSUARIO)
)
go

DROP TABLE TBLVPRESTRICAOVENDAUN;
GO

CREATE TABLE TBLVPRESTRICAOVENDAUN (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDUNIDADE            VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDTIPOPEDIDO         VARCHAR(20)          NOT NULL,
   FLBLOQUEIAVENDA      CHAR(1)              NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPRESTRICAOVENDAUN PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDUSUARIO, CDPRODUTO, CDTIPOPEDIDO, CDUNIDADE)
)
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.06' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 19/05/2015
Autor: Ricardo
Descrição: nova coluna na tabela ProdutoTabPreco
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTOTABPRECO ADD CDGRUPODESCPROD VARCHAR(20);

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.11' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.16' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 17/06/2015
Autor: Ricardo
Descrição: Descontinuação TcActivation
------------------------------------------------------------------------*/
DROP TABLE TBLVPTCACTIVATION;
GO

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.17' WHERE CDSISTEMA = 20;

/*-----------------------------------------------------------------------
Data: 22/05/2015
Autor: Ricardo
Descrição: Nova coluna na tabela ItemTabelaPreco
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMTABELAPRECO ADD FLPRECOQUEDA CHAR(1);
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.19' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.20' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.21' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 12/06/2015
Autor: Tiago
Descrição: Nova tabela CondPagtoProd
------------------------------------------------------------------------*/

CREATE TABLE TBLVPCONDPAGTOPROD (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCONDICAOPAGAMENTO  VARCHAR(40)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   VLINDICEFINANCEIRO   DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCONDPAGTOPROD PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCONDICAOPAGAMENTO, CDPRODUTO, CDUSUARIO)
)
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.22' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.23' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 25/03/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna na tabela TBLVPTRIBUTACAO e alteração de sua chave primaria
-----------------------------------------------------------------------------------*/
DROP TABLE TBLVPTRIBUTACAO;
go

CREATE TABLE TBLVPTRIBUTACAO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOCLIENTE  VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOPRODUTO  VARCHAR(20)          NOT NULL,
   CDTIPOPEDIDO         VARCHAR(20)          NOT NULL,
   CDTIPOPRECOBASETRIBUTACAO DECIMAL(9,0)         NULL,
   VLPCTREPASSEICMS     DECIMAL(16,7)        NULL,
   VLPCTREDUCAOBASEICMS DECIMAL(16,7)        NULL,
   VLPCTREDUCAOICMS     DECIMAL(16,7)        NULL,
   VLPCTICMS            DECIMAL(16,7)        NULL,
   CDTIPORECOLHIMENTO   DECIMAL(9,0)         NULL,
   FLBASEICMSRETIDOCOMDESCONTO CHAR(1)              NULL,
   FLBASEICMSRETIDOCOMREPASSE CHAR(1)              NULL,
   VLPCTMARGEMAGREGADA  DECIMAL(16,7)        NULL,
   VLPCTICMSRETIDO      DECIMAL(16,7)        NULL,
   VLPCTREDUCAOBASEICMSRETIDO DECIMAL(16,7)        NULL,
   VLPCTMINST           DECIMAL(16,7)        NULL,
   FLAPLICAIPIICMS      CHAR(1)              NULL,
   FLAPLICAIPIRETIDO    CHAR(1)              NULL,
   VLPCTFECOP           DECIMAL(16,7)        NULL,
   VLPCTFECOPRECOLHER   DECIMAL(16,7)        NULL,
   VLDESPESAACESSORIA   DECIMAL(16,7)        NULL,
   FLAPLICAFRETE        CHAR(1)              NULL,
   FLAPLICAFECOPST      CHAR(1)              NULL,
   CDTIPOFECOP          DECIMAL(9,0)         NULL,
   VLPCTPIS             DECIMAL(16,7)        NULL,
   VLPCTCOFINS          DECIMAL(16,7)        NULL,
   VLPCTICMSINCENTIVADO DECIMAL(16,7)        NULL,
   FLUSAIPICALCULADO    CHAR(1)              NULL,
   VLMINPIS             DECIMAL(16,7)        NULL,
   VLMINCOFINS          DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTRIBUTACAO PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDTRIBUTACAOCLIENTE, CDTRIBUTACAOPRODUTO, CDTIPOPEDIDO, CDUSUARIO)
);
go

/*-------------------------------------------------------------------------
Data: 20/02/2015
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTO ADD VLIPI DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLFECOP DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLFECOP DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLICMS DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLICMS DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLPIS DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPIS DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLCOFINS DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLCOFINS DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLICMSINCENTIVADO DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLICMSINCENTIVADO DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLDESPESAACESSORIA DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLDESPESAACESSORIA DECIMAL(16,7);
go

/*---------------------------------------------------------------------------------------------------------------
Data: 27/03/2015
Autor: Ricardo
Descrição: Nova tabela TBLVPTIPOFRETETABPRECO
-----------------------------------------------------------------------------------------------------------------*/
CREATE TABLE TBLVPTIPOFRETETABPRECO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTIPOFRETE          VARCHAR(20)          NOT NULL,
   CDTABELAPRECO        VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   QTPESO            DECIMAL(16,7)          NOT NULL,
   VLPCTFRETE           DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOFRETETABPRECO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTIPOFRETE, CDTABELAPRECO, CDPRODUTO, QTPESO, CDUSUARIO)
)
go


/*---------------------------------------------------------------------------------------------------------------
Data: 27/04/2015
Autor: Ricardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPEMPRESA ADD VLMAXPESO DECIMAL(16,7);
go

ALTER TABLE TBLVPEMPRESA ADD VLMINPESO DECIMAL(16,7);
go

ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD VLMAXPESO DECIMAL(16,7);
go

ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD VLMINPESO DECIMAL(16,7);
go

/*----------------------------------------------------------------------------
Data: 22/05/2015
Autor: Leonardo
Descrição: Novas coluna na tabela TBLVPCLIENTE
------------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD VLPCTMAXDESCONTO DECIMAL(16,7); 
GO

/*-----------------------------------------------------------------------
Data: 20/04/2015
Autor: Ricardo
Descrição: Novas colunas na tabela ItemTabelaPreco
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMTABELAPRECO ADD VLMAXDESCONTO DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLMAXACRESCIMO DECIMAL(16,7);
go

/*----------------------------------------------------------------------------
Data: 08/06/2015
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTO ADD VLMINIPI DECIMAL(16,7);
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.26' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 05/06/2015
Autor: Tiago
Descrição: Nova tabela COMISSAORENTABILIDADE
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCOMIRENTABILIDADE (
	CDEMPRESA			VARCHAR(20)			NOT NULL,
	CDREPRESENTANTE		VARCHAR(20)			NOT NULL,
	VLPCTRENTABILIDADE	DECIMAL(16,7)		NOT NULL,
	VLPCTCOMISSAO		DECIMAL(16,7)		NULL,
	FLTIPOALTERACAO		CHAR(1)				NULL,
	NUCARIMBO			DECIMAL(9,0)		NULL,
	CDUSUARIO			VARCHAR(8)			NOT NULL,
	CONSTRAINT PK_TBLVWCOMIRENTABILIDADE PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, VLPCTRENTABILIDADE, CDUSUARIO)
)
go

ALTER TABLE TBLVPEMPRESA ADD VLPCTPIS DECIMAL (16,7);
go

ALTER TABLE TBLVPEMPRESA ADD VLPCTCOFINS DECIMAL (16,7);
go

ALTER TABLE TBLVPEMPRESA ADD VLPCTIRPJ DECIMAL (16,7);
go

ALTER TABLE TBLVPEMPRESA ADD VLPCTCUSTOVARIAVEL DECIMAL (16,7);
go

ALTER TABLE TBLVPEMPRESA ADD VLPCTCUSTOFIXO DECIMAL (16,7);
go

ALTER TABLE TBLVPPRODUTO ADD VLPCTMINRENTABILIDADE DECIMAL (16,7);
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.28' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.31' WHERE CDSISTEMA = 20;

/*----------------------------------------------------------------------------
Data: 26/05/2015
Autor: Tiago
Descrição: Novos campos na tabela statusPedidoPda
------------------------------------------------------------------------------*/
ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD NUORDEMWORKFLOW DECIMAL(9,0);
go

ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD FLUSAWORKFLOW CHAR(1);
go

ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD IMICONEWORKFLOW IMAGE ;
go

/*----------------------------------------------------------------------------
Data: 08/06/2015
Autor: Fernando
Descrição: Tabela
------------------------------------------------------------------------------*/
CREATE TABLE TBLVPHISTORICOPEDIDO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   CDSTATUS             VARCHAR(20)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   DTATUALIZACAO        DATETIME             NULL,
   HRATUALIZACAO        CHAR(5)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPHISTORICOPEDIDO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, CDSTATUS, CDUSUARIO, FLORIGEMPEDIDO)
)
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.33' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.34' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 18/05/2015
Autor: Leonardo Machado Fernandes
Descrição:Nova tabela TBLVPMENSAGEMEXCEC  e remoção da tabela TBLVPMENSAGEM do sistema
---------------------------------------------------------------------------------------*/
CREATE TABLE TBLVPMENSAGEMEXCEC (
   CDSISTEMA            DECIMAL(9)           NOT NULL,
   CDMENSAGEMEXCEC      VARCHAR(200)         NOT NULL,
   DSMENSAGEMEXCEC      VARCHAR(4000)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9)           NULL,
   CONSTRAINT PK_TBLVPMENSAGEMEXCEC PRIMARY KEY NONCLUSTERED (CDSISTEMA, CDMENSAGEMEXCEC)
);
GO

DROP TABLE TBLVPMENSAGEM;
GO

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.35' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.36' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 25/05/2015
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD VLDESCONTO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCONTO2 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLDESCONTO2 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCONTO3 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLDESCONTO3 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLDESCONTO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCONTO2 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLDESCONTO2 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCONTO3 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLDESCONTO3 DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMTABELAPRECO ADD FLUSADESCONTO3 CHAR(1);
GO

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.37' WHERE CDSISTEMA = 20;

CREATE INDEX IDXLVPITEMTABELAPRECO1REP on TBLVPITEMTABELAPRECO(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPITEMPEDIDOERP1REP on TBLVPITEMPEDIDOERP(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPPRODUTO1REP on TBLVPPRODUTO(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPPEDIDOERP1REP on TBLVPPEDIDOERP(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPESTOQUE1REP on TBLVPESTOQUE(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPTITULOFINANCEIRO1REP on TBLVPTITULOFINANCEIRO(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPCONDICAOPAGAMENTO1REP on TBLVPCONDICAOPAGAMENTO(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPCONDPAGTOCLI1REP on TBLVPCONDPAGTOCLI(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPTABELAPRECO1REP on TBLVPTABELAPRECO(CDREPRESENTANTE ASC);
GO

CREATE INDEX IDXLVPTABELAPRECOCLI1REP on TBLVPTABELAPRECOCLI(CDREPRESENTANTE ASC);
GO

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.38' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 09/07/2015
Autor: Pedro
Descrição: nova coluna na tabela DescPromocional
------------------------------------------------------------------------*/
ALTER TABLE TBLVPDESCPROMOCIONAL ADD NUPROMOCAO DECIMAL(9,0);
go

ALTER TABLE TBLVPITEMPEDIDO ADD NUPROMOCAO DECIMAL(9,0);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD NUPROMOCAO DECIMAL(9,0);
go

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.41' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.43' WHERE CDSISTEMA = 20;

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.44' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 08/05/2014
Autor: Fernando
Descrição: Retiradas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPUSUARIOPDA DROP COLUMN DSDIRFTP;
GO

ALTER TABLE TBLVPUSUARIOPDA DROP COLUMN DSUSUARIOFTP;
GO

ALTER TABLE TBLVPUSUARIOPDA DROP COLUMN DSSENHAFTP;
GO

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.45' WHERE CDSISTEMA = 20;

/*-------------------------------------------------------------------------
Data: 15/06/2015
Autor: Tiago
Descrição: Novas colunas tabela Pedido e PedidoErp
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLPEDIDOREPLICADO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD NUPEDIDOORIGINAL VARCHAR(30);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLPEDIDOREPLICADO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD NUPEDIDOORIGINAL VARCHAR(30);
GO

/*** VERSÃO DO SISTEMA PARA QUAL O BANCO É COMPATÍVEL ***/
UPDATE TBLVPSISTEMA SET DSVERSAOSISTEMA = '4.46' WHERE CDSISTEMA = 20;

/*----------------------------------------------------------------------------
Data: 09/04/2015
Autor: Tiago
Descrição: Exclusão das tabelas SISTEMA E SISTEMAPDA
------------------------------------------------------------------------------*/
DROP TABLE TBLVPSISTEMA;
go

DROP TABLE TBLVPSISTEMAPDA;
go

/*-------------------------------------------------------------------------
Data: 22/07/2015
Autor: Pedro
Descrição: nova coluna na tabela GiroProduto
------------------------------------------------------------------------*/
ALTER TABLE TBLVPGIROPRODUTO ADD DSOBSERVACAO VARCHAR(255);
go

/*-------------------------------------------------------------------------
Data: 27/07/2015
Autor: Pedro
Descrição: nova coluna na tabela ItemPedido
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD CDSUGESTAOVENDA VARCHAR(20);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD CDSUGESTAOVENDA VARCHAR(20);
go

--VERSÃO 4.56
/*-------------------------------------------------------------------------
Data: 08/07/2015
Autor: Leonardo
Descrição: Nova Coluna na tabela Pedido
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLSUGESTAOVENDALIBERADOSENHA CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLSUGESTAOVENDALIBERADOSENHA CHAR(1);
GO

--VERSÃO 4.58
/*-------------------------------------------------------------------------
Data: 27/03/2015
Autor: Leonardo Machado Fernandes
Descrição: Novas tabelas
------------------------------------------------------------------------*/
CREATE TABLE TBLVPEQUIPAMENTO (
   CDEQUIPAMENTO        VARCHAR(200)         NOT NULL,
   DSEQUIPAMENTO        VARCHAR(200)         NULL,
   DSPLATAFORMA         VARCHAR(50)          NULL,
   DTCADASTRO           DATETIME             NULL,
   HRCADASTRO           CHAR(5)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPEQUIPAMENTO PRIMARY KEY (CDEQUIPAMENTO, CDUSUARIO)
)
GO

CREATE TABLE TBLVPEQUIPAMENTOUSUARIO (
   CDEQUIPAMENTO        VARCHAR(200)         NOT NULL,
   FLUSOPERMITIDO       CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPEQUIPAMENTOUSUARIO PRIMARY KEY (CDEQUIPAMENTO, CDUSUARIO)
)
GO


--VERSÃO 4.59
/*-------------------------------------------------------------------------
Data: 17/07/2015
Autor: Fernando
Descrição: Nova tabela 
------------------------------------------------------------------------*/
CREATE TABLE TBLVPTIPOPEDIDOCLI (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTIPOPEDIDO         VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   NUCARIMBO			DECIMAL(9,0)		 NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO	        VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVWTIPOPEDIDOCLI PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTIPOPEDIDO, CDCLIENTE, CDUSUARIO)
)
go

--VERSÃO 4.71
/*-------------------------------------------------------------------------
Data: 09/07/2015
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCARGAPEDIDO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCARGAPEDIDO        VARCHAR(20)          NOT NULL,
   CDROTAENTREGA        VARCHAR(20)          NOT NULL,
   DSCARGAPEDIDO        VARCHAR(100)         NULL,
   FLPESOMENORLIBERADO  CHAR(1)              NULL,
   FLCARGAVENCIDALIBERADA CHAR(1)            NULL,
   FLCARGAFECHADA       CHAR(1)              NULL,
   DTCRIACAO    	    DATETIME             NULL,
   HRCRIACAO	        CHAR(5)              NULL,
   DTFECHAMENTO    	    DATETIME             NULL,
   HRFECHAMENTO	        CHAR(5)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCARGAPEDIDO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCARGAPEDIDO, CDUSUARIO)
)
go

/*-------------------------------------------------------------------------
Data: 10/07/2015
Autor: Fernando
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDCARGAPEDIDO VARCHAR(20);
go

ALTER TABLE TBLVPPEDIDOERP ADD CDCARGAPEDIDO VARCHAR(20);
go


--VERSÃO 4.76
/*-------------------------------------------------------------------------
Data: 06/08/2015
Autor: Tiago
Descrição: Nova tabela RENTABILIDADEFAIXA 
------------------------------------------------------------------------*/

CREATE TABLE TBLVPRENTABILIDADEFAIXA (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   VLPCTRENTABILIDADE   DECIMAL(16,7)        NOT NULL,
   DSFAIXA              VARCHAR(100)         NULL,
   FLFAIXAMINIMA        CHAR(1)              NULL,
   FLFAIXAIDEAL         CHAR(1)              NULL,
   VLR                  DECIMAL(9,0)         NULL,
   VLG                  DECIMAL(9,0)         NULL,
   VLB                  DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPRENTABILIDADEFAIXA PRIMARY KEY (CDEMPRESA, VLPCTRENTABILIDADE, CDUSUARIO)
)
go

/*-------------------------------------------------------------------------
Data: 10/08/2015
Autor: Tiago
Descrição: Novo coluna na tabela Pedido e PedidoErp
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDO ADD FLABAIXORENTABILIDADEMINIMA CHAR(1);
go

ALTER TABLE TBLVPPEDIDOERP ADD FLABAIXORENTABILIDADEMINIMA CHAR(1);
go

/*-------------------------------------------------------------------------
Data: 11/08/2015
Autor: Tiago
Descrição: Nova coluna na tabela ItemTabelaPreco 
------------------------------------------------------------------------*/

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLPCTPREVISAORENTABILIDADE DECIMAL(16,7);
go

--VERSÃO 4.79
/*-------------------------------------------------------------------------
Data: 26/08/2015
Autor: Guilherme
Descrição: Ajuste chave primária tabela de script banco novo COMIRENTABILIDADE
------------------------------------------------------------------------*/
DROP TABLE TBLVPCOMIRENTABILIDADE;
GO

CREATE TABLE TBLVPCOMIRENTABILIDADE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   VLPCTRENTABILIDADE   DECIMAL(16,7)        NOT NULL,
   VLPCTCOMISSAO        DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCOMIRENTABILIDADE PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, VLPCTRENTABILIDADE, CDUSUARIO)
)
GO


--VERSÃO 4.81

/*------------------------------------------------------------------------
Data: 17/06/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPFOTOCLIENTE (
   CDEMPRESA            VARCHAR(20)    NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)    NOT NULL,
   CDCLIENTE            VARCHAR(20)    NOT NULL,
   NMFOTO               VARCHAR(100)   NOT NULL,
   NMFOTORELACIONADA    VARCHAR(100)   NULL,
   CDFOTOCLIENTE        DECIMAL(9)     NULL,
   NUTAMANHO            DECIMAL(9)     NULL,
   DTMODIFICACAO        DATETIME       NULL,
   FLFOTOEXCLUIDA       CHAR(1)        NULL,
   FLTIPOALTERACAO      CHAR(1)        NULL,
   NUCARIMBO            DECIMAL(9,0)   NULL,
   CDUSUARIO            VARCHAR(8)     NOT NULL,
   CONSTRAINT PK_TBLVPFOTOCLIENTE PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, NMFOTO, CDUSUARIO)
);
go

/*------------------------------------------------------------------------
Data: 27/05/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPFOTOCLIENTEERP (
   CDEMPRESA            VARCHAR(20)    NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)    NOT NULL,
   CDCLIENTE            VARCHAR(20)    NOT NULL,
   NMFOTO               VARCHAR(100)   NOT NULL,
   NMFOTORELACIONADA    VARCHAR(100)   NULL,
   CDFOTOCLIENTE        DECIMAL(9)     NULL,
   NUTAMANHO            DECIMAL(9)     NULL,
   DTMODIFICACAO        DATETIME       NULL,
   FLFOTOEXCLUIDA       CHAR(1)        NULL,
   FLTIPOALTERACAO      CHAR(1)        NULL,
   NUCARIMBO            DECIMAL(9,0)   NULL,
   CDUSUARIO            VARCHAR(8)     NOT NULL,
   CONSTRAINT PK_TBLVPFOTOCLIENTEERP PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, NMFOTO, CDUSUARIO)
);
go


--VERSÃO 4.84

/*-------------------------------------------------------------------------
Data: 02/09/2015
Autor: Pedro
Descrição: Nova coluna tabela TemaSistema
------------------------------------------------------------------------*/
DROP TABLE TBLVPTEMASISTEMA;
GO

CREATE TABLE TBLVPTEMASISTEMA (
   CDTEMA               DECIMAL(9)           NOT NULL,
   CDESQUEMACOR         DECIMAL(9)           NULL,
   DSTEMA               VARCHAR(100)         NULL,
   FLDEFAULT            CHAR(1)              NULL,
   NUTAMANHOFONTEPADRAO DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTEMASISTEMA PRIMARY KEY NONCLUSTERED (CDTEMA, CDUSUARIO)
)
go


DROP TABLE TBLVPDESCONTOGRUPO;
GO

CREATE TABLE TBLVPDESCONTOGRUPO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDGRUPOPRODUTO1      VARCHAR(20)          NOT NULL,
   CDTABELAPRECO        VARCHAR(30)          NOT NULL,
   QTITEM               DECIMAL(16,7)        NOT NULL,
   VLPCTDESCONTO        DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPDESCONTOGRUPO PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDGRUPOPRODUTO1, QTITEM, CDUSUARIO, CDTABELAPRECO)
)
go

DROP TABLE TBLVPTIPOFRETETABPRECO;
GO

CREATE TABLE TBLVPTIPOFRETETABPRECO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTIPOFRETE          VARCHAR(20)          NOT NULL,
   CDTABELAPRECO        VARCHAR(30)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   QTPESO               DECIMAL(16,7)        NOT NULL,
   VLPCTFRETE           DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOFRETETABPRECO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTIPOFRETE, CDTABELAPRECO, CDPRODUTO, QTPESO, CDUSUARIO)
)
go


/*---------------------------------------------------------------------------------------------------------------
Data: 20/04/2015
Autor: Tiago
Descrição: Novas colunas na tabela DESCPROMOCIONAL
-----------------------------------------------------------------------------------------------------------------*/
DROP TABLE TBLVPDESCPROMOCIONAL;
GO

CREATE TABLE TBLVPDESCPROMOCIONAL (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDGRUPODESCCLI       VARCHAR(20)          NOT NULL,
   CDGRUPODESCPROD      VARCHAR(20)          NOT NULL,
   CDTABELAPRECO        VARCHAR(30)          NOT NULL,
   QTITEM               DECIMAL(9,0)         NOT NULL,
   NUPROMOCAO           DECIMAL(9,0)         NULL,
   DSDESCPROMOCIONAL    VARCHAR(100)         NULL,
   VLPRODUTOFINAL       DECIMAL(16,7)        NULL,
   VLDESCONTOPRODUTO    DECIMAL(16,7)        NULL,
   VLPCTDESCONTOPRODUTO DECIMAL(16,7)        NULL,
   DTINICIAL            DATETIME             NULL,
   DTFINAL              DATETIME             NULL,
   VLPCTCOMISSAO        DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPDESCPROMOCIONAL PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDPRODUTO, CDGRUPODESCCLI, CDGRUPODESCPROD, CDTABELAPRECO, QTITEM, CDUSUARIO)
)
go

/*---------------------------------------------------------------------------------------------------------------
Data: 14/07/2015
Autor: Tiago
Descrição: Novo campo na tabela comiRentabilidade
-----------------------------------------------------------------------------------------------------------------*/
ALTER TABLE TBLVPCOMIRENTABILIDADE ADD VLPCTVERBA DECIMAL (16,7);
go

/*-------------------------------------------------------------------------
Data: 10/07/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPTRIBUTACAOCONFIG (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOCLIENTE  VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOPRODUTO  VARCHAR(20)          NOT NULL,
   CDTIPOPEDIDO         VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDUF                 VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOCONFIG 	VARCHAR(20)			NULL,
   FLCALCULAIPI         CHAR(1)              NULL,
   FLFRETEBASEIPI       CHAR(1)              NULL,
   FLTIPOCALCULOPISCOFINS CHAR(1)              NULL,
   FLFRETEBASEPISCOFINS CHAR(1)              NULL,
   FLCALCULAICMS        CHAR(1)              NULL,
   FLFRETEBASEICMS      CHAR(1)              NULL,
   FLIPIBASEICMS        CHAR(1)              NULL,
   FLCALCULAST          CHAR(1)              NULL,
   FLFRETEBASEST        CHAR(1)              NULL,
   FLIPIBASEST          CHAR(1)              NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTRIBUTACAOCONFIG PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTRIBUTACAOCLIENTE, CDTRIBUTACAOPRODUTO, CDTIPOPEDIDO, CDCLIENTE, CDPRODUTO, CDUF, CDUSUARIO)
)
go


/*-------------------------------------------------------------------------
Data: 10/07/2015
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD VLPCTICMS DECIMAL(16,7);
GO

ALTER TABLE TBLVPCLIENTE ADD FLDEBITAPISCOFINSZONAFRANCA CHAR(1);
GO

ALTER TABLE TBLVPCLIENTE ADD CDESTADOCOMERCIAL VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTE ADD CDCANALCLIENTE VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTE ADD VLPCTCONTRATOCLI DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTO ADD FLDEBITAPISCOFINSZONAFRANCA CHAR(1);
GO

ALTER TABLE TBLVPPRODUTO ADD VLPCTPIS DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTO ADD VLPCTCOFINS DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTO ADD VLMINPIS DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTO ADD VLMINCOFINS DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTO ADD VLPCTICMS DECIMAL(16,7);
GO

/*-------------------------------------------------------------------------
Data: 10/07/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna na tabela TBLVPTRIBUTACAO e alteração de sua chave primaria
-----------------------------------------------------------------------------------*/
DROP TABLE TBLVPTRIBUTACAO;
GO

CREATE TABLE TBLVPTRIBUTACAO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOCLIENTE  VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOPRODUTO  VARCHAR(20)          NOT NULL,
   CDTIPOPEDIDO         VARCHAR(20)          NOT NULL,
   CDUF                 VARCHAR(20)          NOT NULL,
   CDTIPOPRECOBASETRIBUTACAO DECIMAL(9,0)         NULL,
   VLPCTREPASSEICMS     DECIMAL(16,7)        NULL,
   VLPCTREDUCAOBASEICMS DECIMAL(16,7)        NULL,
   VLPCTREDUCAOICMS     DECIMAL(16,7)        NULL,
   VLPCTICMS            DECIMAL(16,7)        NULL,
   CDTIPORECOLHIMENTO   DECIMAL(9,0)         NULL,
   FLBASEICMSRETIDOCOMDESCONTO CHAR(1)              NULL,
   FLBASEICMSRETIDOCOMREPASSE CHAR(1)              NULL,
   VLPCTMARGEMAGREGADA  DECIMAL(16,7)        NULL,
   VLPCTICMSRETIDO      DECIMAL(16,7)        NULL,
   VLPCTREDUCAOBASEICMSRETIDO DECIMAL(16,7)        NULL,
   VLPCTMINST           DECIMAL(16,7)        NULL,
   FLAPLICAIPIICMS      CHAR(1)              NULL,
   FLAPLICAIPIRETIDO    CHAR(1)              NULL,
   VLPCTFECOP           DECIMAL(16,7)        NULL,
   VLPCTFECOPRECOLHER   DECIMAL(16,7)        NULL,
   VLDESPESAACESSORIA   DECIMAL(16,7)        NULL,
   FLAPLICAFRETE        CHAR(1)              NULL,
   FLAPLICAFECOPST      CHAR(1)              NULL,
   CDTIPOFECOP          DECIMAL(9,0)         NULL,
   VLPCTPIS             DECIMAL(16,7)        NULL,
   VLPCTCOFINS          DECIMAL(16,7)        NULL,
   FLUSAIPICALCULADO    CHAR(1)              NULL,
   VLMINPIS             DECIMAL(16,7)        NULL,
   VLMINCOFINS          DECIMAL(16,7)        NULL,
   VLPCTIPI             DECIMAL(16,7)        NULL,
   VLMINIPI             DECIMAL(16,7)        NULL,
   VLPCTOUTORGA         DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTRIBUTACAO PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDTRIBUTACAOCLIENTE, CDTRIBUTACAOPRODUTO, CDTIPOPEDIDO, CDUF, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 15/07/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna na tabela TBLVPTRIBUTACAOVLBASE e alteração de sua chave primaria
------------------------------------------------------------------------*/
DROP TABLE TBLVPTRIBUTACAOVLBASE;
GO

CREATE TABLE TBLVPTRIBUTACAOVLBASE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOCLIENTE  VARCHAR(20)          NOT NULL,
   CDTRIBUTACAOPRODUTO  VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDUF                 VARCHAR(20)          NOT NULL,
   VLBASEICMS           DECIMAL(16,7)        NULL,
   VLBASEICMSCALCRETIDO DECIMAL(16,7)        NULL,
   VLBASEICMSRETIDOCALCRETIDO DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTRIBUTACAOVLBASE PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDTRIBUTACAOCLIENTE, CDTRIBUTACAOPRODUTO, CDPRODUTO, CDUF, CDUSUARIO)
)
go

/*-------------------------------------------------------------------------
Data: /07/2015
Autor: Leonardo Machado Fernandes
Descrição: Exclusão de campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO DROP COLUMN VLICMSINCENTIVADO;
GO
 
ALTER TABLE TBLVPITEMPEDIDOERP DROP COLUMN VLICMSINCENTIVADO;
GO

/*-------------------------------------------------------------------------
Data: 18/08/2015
Autor: Tiago
Descrição: Nova coluna na tabela itemPedido
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD VLTOTALITEMPEDIDOFRETE DECIMAL(16,7);
GO
ALTER TABLE TBLVPITEMPEDIDOERP ADD VLTOTALITEMPEDIDOFRETE DECIMAL(16,7);
GO

/*------------------------------------------------------------------------
Data: 14/08/2015
Autor: Ricardo
Descrição: Nova tabela TBLVPCANALCLIGRUPO
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCANALCLIGRUPO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCANALCLIENTE       VARCHAR(20)          NOT NULL,
   CDCANALGRUPO         VARCHAR(20)          NOT NULL,
   VLPCTMAXDESCONTO     DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCANALCLIGRUPO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCANALCLIENTE, CDCANALGRUPO, CDUSUARIO)
)
GO

ALTER TABLE TBLVPGRUPOPRODUTO1 ADD CDCANALGRUPO VARCHAR(20);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCONTOCANAL DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCONTOCANAL DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD CDTRIBUTACAOCONFIG VARCHAR(20);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD CDTRIBUTACAOCONFIG VARCHAR(20);
GO


--VERSÃO 4.86

/*-------------------------------------------------------------------------
Data: 28/07/2015
Autor: Tiago
Descrição: Nova coluna na tabela pedido e pedidoErp
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDO ADD FLENVIAEMAIL CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLENVIAEMAIL CHAR(1);
GO


--VERSÃO 4.87

/*-------------------------------------------------------------------------
Data: 03/08/2015
Autor: Tiago
Descrição: Alterações na tabelas Equipamento e EquipamentoUsuario 
------------------------------------------------------------------------*/

DROP TABLE TBLVPEQUIPAMENTO;
GO

CREATE TABLE TBLVPEQUIPAMENTO (
   CDEQUIPAMENTO        VARCHAR(200)         NOT NULL,
   NUIMEI               VARCHAR(200)         NULL,
   NUSERIALNUMBER       VARCHAR(200)         NULL,
   DSEQUIPAMENTO        VARCHAR(200)         NULL,
   DSPLATAFORMA         VARCHAR(50)          NULL,
   DTCADASTRO           DATETIME             NULL,
   HRCADASTRO           CHAR(5)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CONSTRAINT PK_TBLVPEQUIPAMENTO PRIMARY KEY (CDEQUIPAMENTO)
)
GO

--VERSÃO 4.98

DROP TABLE TBLVPITEMTABELAPRECO;
GO

CREATE TABLE TBLVPITEMTABELAPRECO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTABELAPRECO        VARCHAR(30)          NOT NULL,
   CDUF                 VARCHAR(2)           NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDITEMGRADE1         VARCHAR(20)          NOT NULL,
   CDITEMGRADE2         VARCHAR(20)          NOT NULL,
   CDITEMGRADE3         VARCHAR(20)          NOT NULL,
   CDUNIDADE            VARCHAR(20)          NOT NULL,
   QTITEM               DECIMAL(9,0)         NOT NULL,
   CDPRAZOPAGTOPRECO    DECIMAL(9,0)         NOT NULL,
   CDLINHA              DECIMAL(9)           NULL,
   VLUNITARIO           DECIMAL(16,7)        NULL,
   VLPCTMAXDESCONTO     DECIMAL(16,7)        NULL,
   VLPCTMAXACRESCIMO    DECIMAL(16,7)        NULL,
   VLPRECOEMBALAGEMPRIMARIA DECIMAL(16,7)        NULL,
   FLPROMOCAO           CHAR(1)              NULL,
   VLPCTSUBSTTRIBUTARIAINFO DECIMAL(16,7)        NULL,
   VLGNREINFO           DECIMAL(16,7)        NULL,
   VLBASE               DECIMAL(16,7)        NULL,
   VLPCTDESCONTOINFO    DECIMAL(16,7)        NULL,
   VLPRECOLISTAINFO     DECIMAL(16,7)        NULL,
   VLPCTCOMISSAO        DECIMAL(16,7)        NULL,
   VLPCTDESCPROMOCIONAL DECIMAL(16,7)        NULL,
   VLPRECOFRETE         DECIMAL(16,7)        NULL,
   FLBLOQUEADO          CHAR(1)              NULL,
   VLUNITARIOESPECIAL   DECIMAL(16,7)        NULL,
   VLREDUCAOOPTANTESIMPLES DECIMAL(16,7)        NULL,
   VLBASEESPECIAL       DECIMAL(16,7)        NULL,
   QTMAXVENDA           DECIMAL(16,7)        NULL,
   VLPRECOEMBALAGEM     DECIMAL(16,7)        NULL,
   NUCONVERSAOUNIDADE   DECIMAL(16,7)        NULL,
   VLOPORTUNIDADE       DECIMAL(16,7)        NULL,
   FLPRECOQUEDA         CHAR(1)              NULL,
   VLMAXACRESCIMO       DECIMAL(16,7)        NULL,
   VLMAXDESCONTO        DECIMAL(16,7)        NULL,
   FLUSADESCONTO3       CHAR(1)              NULL,
   VLPCTPREVISAORENTABILIDADE DECIMAL(16,7)        NULL,
   CDGRUPODESTAQUE      VARCHAR(20)          NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPITEMTABELAPRECO PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDTABELAPRECO, CDPRODUTO, CDUF, CDITEMGRADE1, CDITEMGRADE2, CDITEMGRADE3, CDUSUARIO, CDUNIDADE, QTITEM, CDPRAZOPAGTOPRECO)
)
GO

--VERSÃO 4.102

/*-------------------------------------------------------------------------
Data: 25/08/2015
Autor: Leonardo Machado Fernandes
Descrição: Novo campo
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPCARGAPEDIDO ADD DTENTREGA DATETIME NULL;
GO

--VERSÃO 4.104

/*-------------------------------------------------------------------------
Data: 19/08/2015
Autor: Fernando
Descrição: Novas colunas
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPITEMTABELAPRECO ADD VLPCTMARGEMRENTABILIDADE DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLRECEITALIQUIDA DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLVERBAEMPRESA DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMTABELAPRECO ADD NUPROMOCAO DECIMAL(9,0);
go

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLDESCONTOPROMO DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMTABELAPRECO ADD DTINICIOPROMOCAO DATETIME;
go

ALTER TABLE TBLVPTRIBUTACAO ADD VLICMSRETIDO DECIMAL(16,7);
go

ALTER TABLE TBLVPTRIBUTACAO ADD VLICMS DECIMAL(16,7);
go

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTMARGEMMIN DECIMAL(16,7);
go

ALTER TABLE TBLVPPEDIDO ADD VLPCTMARGEMMIN DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD DTINICIOPROMOCAO DATETIME;
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD DTINICIOPROMOCAO DATETIME;
go

/*-------------------------------------------------------------------------
Data: 21/08/2015
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPITEMPEDIDOAUD (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   FLTIPOITEMPEDIDO     CHAR(1)              NOT NULL,
   NUSEQPRODUTO         DECIMAL(9,0)         NOT NULL,
   VLPCTMARGEMITEM      DECIMAL(16,7)        NULL,
   VLPCTMARGEMRENTABILIDADE DECIMAL(16,7)        NULL,
   VLMARGEMITEM         DECIMAL(16,7)        NULL,
   VLRECEITAVIRTUAL     DECIMAL(16,7)        NULL,
   VLRECEITALIQUIDA     DECIMAL(16,7)        NULL,
   VLVERBAEMPRESA       DECIMAL(16,7)        NULL,
   VLVERBANECESSARIA    DECIMAL(16,7)        NULL,
   VLPCTPIS             DECIMAL(16,7)        NULL,
   VLPCTICMS            DECIMAL(16,7)        NULL,
   VLITEMPEDIDONEUTRO   DECIMAL(16,7)        NULL,
   DTINSERCAOITEM       DATETIME             NULL,
   DTVERIFICACAOCUSTO     DATETIME             NULL,
   FLGERAVERBA          CHAR(1)              NULL,
   NUCARIMBO			DECIMAL(9,0)		 NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO			VARCHAR(8)			 NOT NULL,
   CONSTRAINT PK_TBLVPITEMPEDIDOAUD PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, FLORIGEMPEDIDO, CDPRODUTO, FLTIPOITEMPEDIDO, NUSEQPRODUTO, CDUSUARIO)
)
go


--VERSÃO 4.109

/*-------------------------------------------------------------------------
Data: 20/08/2015
Autor: Tiago
Descrição: Novas colunas na tabela verbaGrupoSaldo
------------------------------------------------------------------------*/

ALTER TABLE TBLVPVERBAGRUPOSALDO DROP CONSTRAINT PK_TBLVPVERBAGRUPOSALDO;
GO

ALTER TABLE TBLVPVERBAGRUPOSALDO ADD CDVERBAGRUPO DECIMAL(9,0) DEFAULT 0 NOT NULL;
GO

ALTER TABLE TBLVPVERBAGRUPOSALDO ADD VLPCTTOLERANCIADESC DECIMAL(16,7);
GO

ALTER TABLE TBLVPVERBAGRUPOSALDO ADD DTVIGENCIAINICIAL DATETIME;
GO

ALTER TABLE TBLVPVERBAGRUPOSALDO ADD DTVIGENCIAFINAL DATETIME;
GO

ALTER TABLE TBLVPVERBAGRUPOSALDO ADD CONSTRAINT PK_TBLVPVERBAGRUPOSALDO PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, CDGRUPOPRODUTO1, FLORIGEMSALDO, CDVERBAGRUPO, CDUSUARIO);
GO

/*-------------------------------------------------------------------------
Data: 02/09/2015
Autor: Tiago
Descrição: Nova coluna na tabela itemPedido e itemPedidoErp
------------------------------------------------------------------------*/

ALTER TABLE TBLVPITEMPEDIDO ADD CDVERBAGRUPO DECIMAL(9,0);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD CDVERBAGRUPO DECIMAL(9,0);
GO

/*-------------------------------------------------------------------------
Data: 31/08/2015
Autor: Leonardo Machado Fernandes
Descrição: Novas colunas 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLETAPAVERBA  CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLETAPAVERBA  CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD FLCALCULAVERBAGRUPOSALDO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLCALCULAVERBAGRUPOSALDO CHAR(1);
GO

--VERSÃO 4.112

/*-------------------------------------------------------------------------
Data: 22/10/2015
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPTIPOFRETE ADD FLDEFAULT CHAR(1);
GO

--VERSÃO 4.115

/*-------------------------------------------------------------------------
Data: 21/10/2015
Autor: Leonardo Machado Fernandes
Descrição: Novas colunas 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD VLPCTCOMISSAO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTCOMISSAO DECIMAL(16,7);
GO


--VERSÃO 4.120

/*-------------------------------------------------------------------------
Data: 10/09/2015
Autor: Ricardo
Descrição: Nova coluna na tabela TipoPAgamento
------------------------------------------------------------------------*/

ALTER TABLE TBLVPTIPOPAGAMENTO ADD FLPAGAMENTOAVISTA CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD FLPAGAMENTOAVISTA CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLPAGAMENTOAVISTA CHAR(1);
GO


--VERSÃO 4.126

/*-------------------------------------------------------------------------
Data: 11/09/2015
Autor: Tiago
Descrição: Nova coluna nas tabelas tipoPedido, pedido e pedidoErp
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLGERANFE CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD FLGERANFE CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLGERANFE CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 14/10/2015
Autor: Leonardo Machado Fernandes
Descrição: Novo campo
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPTIPOPEDIDO ADD FLINDICAKMTEMPO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD NUKMINICIAL DECIMAL(9,0);
GO

ALTER TABLE TBLVPPEDIDO ADD NUKMFINAL DECIMAL(9,0);
GO

ALTER TABLE TBLVPPEDIDO ADD HRINICIALINDICADO VARCHAR(8);
GO

ALTER TABLE TBLVPPEDIDO ADD HRFINALINDICADO VARCHAR(8);
GO

ALTER TABLE TBLVPPEDIDOERP ADD NUKMINICIAL DECIMAL(9,0);
GO

ALTER TABLE TBLVPPEDIDOERP ADD NUKMFINAL DECIMAL(9,0);
GO

ALTER TABLE TBLVPPEDIDOERP ADD HRINICIALINDICADO VARCHAR(8);
GO

ALTER TABLE TBLVPPEDIDOERP ADD HRFINALINDICADO VARCHAR(8);
GO

/*-------------------------------------------------------------------------
Data: 23/10/2015
Autor: Ricardo
Descrição: Novas colunas nas tabelas Nfe, empresa, pedido e pedidoErp
------------------------------------------------------------------------*/
ALTER TABLE TBLVPNFE ADD NUNFE DECIMAL(9,0);
GO

ALTER TABLE TBLVPNFE ADD CDTIPOOPERACAONFE VARCHAR(20);
GO

ALTER TABLE TBLVPNFE ADD DTEMISSAO DATETIME;
GO

ALTER TABLE TBLVPNFE ADD DTSAIDA DATETIME;
GO

ALTER TABLE TBLVPNFE ADD HRSAIDA VARCHAR(8);
GO

ALTER TABLE TBLVPNFE ADD VLIBPT DECIMAL(16,7);
Go

ALTER TABLE TBLVPNFE ADD VLTOTALNFE DECIMAL(16,7);
Go

ALTER TABLE TBLVPEMPRESA ADD NUCNPJ VARCHAR(20);
GO

ALTER TABLE TBLVPEMPRESA ADD NUINSCRICAOESTADUAL VARCHAR(20);
GO

ALTER TABLE TBLVPPEDIDO ADD FLNFEIMPRESSA CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLNFEIMPRESSA CHAR(1);
GO


--VERSÃO 4.132

/*-------------------------------------------------------------------------
Data: 29/07/2015
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD VLTOTALSTITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLTOTALIPIITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLTOTALICMSITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLTOTALPISITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLTOTALCOFINSITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDO ADD VLSEGUROITEMPEDIDO DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLTOTALSTITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLTOTALIPIITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLTOTALICMSITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLTOTALPISITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLTOTALCOFINSITEM DECIMAL(16,7);
go

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLSEGUROITEMPEDIDO DECIMAL(16,7);
go


--VERSÃO 4.133

/*-------------------------------------------------------------------------
Data: 06/11/2015
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMTABELAPRECO ADD QTMINITENSNORMAIS DECIMAL(9,0);
GO

--VERSÃO 4.137

/*-------------------------------------------------------------------------
Data: 23/10/2015
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPVARIACAOPRODCLI (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   VLPCTVARIACAO        DECIMAL(16,7)        NULL,
   DTINICIOVIGENCIA     DATETIME                 NULL,
   DTFIMVIGENCIA        DATETIME                 NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPVARIACAOPRODCLI PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDCLIENTE, CDUSUARIO)
)
go

--VERSÃO 4.139

/*-------------------------------------------------------------------------
Data: 29/10/2015
Autor: Fernando
Descrição: Nova Tabela 
------------------------------------------------------------------------*/
CREATE TABLE TBLVPFOTONOVOCLIENTE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   NMFOTO               VARCHAR(100)         NOT NULL,
   NUTAMANHO            DECIMAL(9)           NULL,
   DTMODIFICACAO        DATETIME             NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPFOTONOVOCLIENTE PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, NMFOTO, CDUSUARIO)
)
GO

--VERSÃO 4.155

/*-------------------------------------------------------------------------
Data: 26/11/2015
Autor: Tiago
Descrição: Alteração do tamanho da coluna dsObservacao da tabela cliente 
------------------------------------------------------------------------*/

--SQLSERVER
ALTER TABLE TBLVPCLIENTE alter column DSOBSERVACAO VARCHAR(4000);
GO
--/SQLSERVER

--ORACLE
ALTER TABLE TBLVPCLIENTE alter column DSOBSERVACAO VARCHAR(4000);
GO
--/ORACLE

--POSTGRES
ALTER TABLE TBLVPCLIENTE alter column DSOBSERVACAO TYPE VARCHAR(4000);
GO
--/POSTGRES

/*-------------------------------------------------------------------------
Data: 16/12/2015
Autor: Leonardo Machado Fernandes
Descrição: Nova Tabelas 
------------------------------------------------------------------------*/

CREATE TABLE TBLVPUSUARIORELREP (
   CDEMPRESA        VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE  VARCHAR(20)          NOT NULL,
   CDUSUARIOREP     VARCHAR(20)          NOT NULL,
   CDSUPERVISOR     VARCHAR(20)          NULL,
   NMUSUARIO        VARCHAR(100)         NULL,
   VLPCTMAXDESCONTO DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO  CHAR(1)              NULL,
   NUCARIMBO        DECIMAL(9,0)         NULL,
   CDUSUARIO        VARCHAR(20)          NOT NULL,
   CONSTRAINT PK_TBLVPUSUARIORELREP PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDUSUARIOREP, CDUSUARIO)
);

CREATE TABLE TBLVPUSUARIOCONFIGEMP (
   CDEMPRESA        VARCHAR(20)          NOT NULL,
   VLPCTMAXDESCONTO DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO  CHAR(1)              NULL,
   NUCARIMBO        DECIMAL(9,0)         NULL,
   CDUSUARIO        VARCHAR(20)          NOT NULL,
   CONSTRAINT PK_TBLVPUSUARIOCONFIGEMP PRIMARY KEY (CDEMPRESA, CDUSUARIO)
);

CREATE TABLE TBLVPUSUARIOCONFIG (
   CDUSUARIO            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTEPADRAO      VARCHAR(20)          NULL,
   NURAMAL              VARCHAR(20)          NULL,
   VLPCTDESCLIBERACAOPEDIDO DECIMAL(16,7)        NULL,
   VLPCTACRESCLIBERACAOPEDIDO DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO        DECIMAL(9,0)         NULL,
   CONSTRAINT PK_TBLVPUSUARIOCONFIG PRIMARY KEY (CDUSUARIO)
);

/*-------------------------------------------------------------------------
Data: 16/12/2015
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPITEMPEDIDO ADD CDUSUARIOLIBERACAO VARCHAR(8);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD CDUSUARIOLIBERACAO VARCHAR(8);
GO

--VERSÃO 4.164

/*-------------------------------------------------------------------------
Data: 15/12/2015
Autor: Tiago Goulart da Silva
Descrição: Novo campo na tabela pedido, pedidoErp
------------------------------------------------------------------------*/ 

ALTER TABLE TBLVPPEDIDO ADD FLLIBERADOENTREGA CHAR(1);
GO
ALTER TABLE TBLVPPEDIDOERP ADD FLLIBERADOENTREGA CHAR(1);
GO


--VERSÃO 4.166

/*-------------------------------------------------------------------------
Data: 09/12/2015
Autor: Fernando
Descrição: Alteração na ItemTabelaPreco 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMTABELAPRECO DROP COLUMN VLVERBAEMPRESA;
GO


--VERSÃO 4.167

/*-------------------------------------------------------------------------
Data: 22/12/2015
Autor: Tiago
Descrição: Nova tabela USUARIO
------------------------------------------------------------------------*/

CREATE TABLE TBLVPUSUARIO (
   CDUSUARIO            VARCHAR(20)          NOT NULL,
   NMUSUARIO            VARCHAR(100)         NULL,
   DSLOGIN              VARCHAR(20)          NULL,
   DSSENHA              VARCHAR(40)          NULL,
   DSEMAIL              VARCHAR(100)         NULL,
   IMFOTO               IMAGE                NULL,
   CDFUNCAO             VARCHAR(20)          NULL,
   NUCARIMBO            DECIMAL(9)           NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CONSTRAINT PK_TBLVPUSUARIO PRIMARY KEY NONCLUSTERED (CDUSUARIO)
)
go

/*-------------------------------------------------------------------------
Data: 23/12/2015
Autor: Tiago
Descrição: Alteração na tabela UsuarioPda
------------------------------------------------------------------------*/

DROP TABLE TBLVPUSUARIOPDA;
GO

CREATE TABLE TBLVPUSUARIOPDA (
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   NUHORADIFERENCASERVIDOR DECIMAL(9,0)         NULL,
   NUHORADIFERENCAHRVERAO DECIMAL(9,0)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CONSTRAINT PK_TBLVPUSUARIOPDA PRIMARY KEY NONCLUSTERED (CDUSUARIO)
)
GO


--VERSÃO 4.179

/*------------------------------------------------------------------------
Data: 27/08/2015
Autor: Ricardo
Descrição: alteração na tabela VISITA e criação de tabela
------------------------------------------------------------------------*/

ALTER TABLE TBLVPVISITA ADD DTCHEGADAVISITA DATETIME;
GO

ALTER TABLE TBLVPVISITA ADD HRCHEGADAVISITA CHAR(5);
GO

ALTER TABLE TBLVPVISITA ADD DSOBSERVACAOCHEGADA VARCHAR(255);
GO

ALTER TABLE TBLVPVISITA ADD DTSAIDAVISITA DATETIME;
GO

ALTER TABLE TBLVPVISITA ADD HRSAIDAVISITA CHAR(5);
GO

ALTER TABLE TBLVPVISITA ADD DSOBSERVACAOSAIDA VARCHAR(255);
GO

ALTER TABLE TBLVPVISITA ADD FLENVIADOSERVIDOR CHAR(1);
GO

CREATE TABLE TBLVPVISITAPEDIDO (
   CDEMPRESA 			VARCHAR(20) 	    	NOT NULL,
   CDREPRESENTANTE 		VARCHAR(20) 	    	NOT NULL,
   NUPEDIDO 	 	    VARCHAR(30) 			NOT NULL,
   CDVISITA 			VARCHAR(20) 	    	NOT NULL,
   NUCARIMBO            DECIMAL(9,0)			NULL,
   FLTIPOALTERACAO 		CHAR(1)					NULL,
   CDUSUARIO            VARCHAR(8)           	NOT NULL,
   CONSTRAINT PK_TBLVPVISITAPEDIDO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, CDVISITA, CDUSUARIO)
)
GO



/*-------------------------------------------------------------------------
Data: 02/12/2015
Autor: Leonardo Machado Fernandes
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD FLTIPOCADASTRO CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 07/12/2015
Autor: Leonardo Machado Fernandes
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPMOTREGISTROVISITA ADD FLTIPOCADASTROCLIENTE CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 05/01/2016
Autor: Fernando
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPNOVOCLIENTE ADD CDCLIENTEORIGINAL VARCHAR(20);
GO


--VERSÃO 4.187


/*-------------------------------------------------------------------------
Data: 28/01/2016
Autor: Tiago
Descrição: Nova tabela CLIENTEENDERECO
------------------------------------------------------------------------*/

CREATE TABLE TBLVPCLIENTEENDERECO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDENDERECO           VARCHAR(20)          NOT NULL,
   DSLOGRADOURO         VARCHAR(100)         NULL,
   DSCOMPLEMENTO        VARCHAR(100)         NULL,
   DSBAIRRO             VARCHAR(100)         NULL,
   DSCEP                VARCHAR(20)          NULL,
   DSCIDADE             VARCHAR(100)         NULL,
   DSESTADO             VARCHAR(20)          NULL,
   DSPAIS               VARCHAR(20)          NULL,
   DSPONTOREFERENCIA    VARCHAR(100)         NULL,
   DSOBSERVACAO         VARCHAR(4000)        NULL,
   FLCOMERCIAL          CHAR(1)              NULL,
   FLENTREGA            CHAR(1)              NULL,
   FLENTREGAPADRAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCLIENTEENDERECO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDENDERECO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 18/02/2016
Autor: Tiago
Descrição: Nova tabela CLIENTEENDATUA
------------------------------------------------------------------------*/

CREATE TABLE TBLVPCLIENTEENDATUA (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDENDERECO           VARCHAR(20)          NOT NULL,
   CDREGISTRO           VARCHAR(20)          NOT NULL,
   DSLOGRADOURO         VARCHAR(100)         NULL,
   DSBAIRRO             VARCHAR(100)         NULL,
   DSCIDADE             VARCHAR(100)         NULL,
   DSESTADO             VARCHAR(20)          NULL,
   DTATUALIZACAO        DATETIME             NULL,
   FLENDERECOEXCLUIDO   CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCLIENTEENDATUA PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDENDERECO, CDREGISTRO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 04/02/2016
Autor: Tiago
Descrição: Novos campos na tabela PEDIDO E PEDIDOERP
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDO ADD CDENDERECOCLIENTE VARCHAR(20);
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDENDERECOCLIENTE VARCHAR(20);
GO

/*-------------------------------------------------------------------------
Data: 18/02/2016
Autor: Leonardo Machado Fernandes
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPNOVOCLIENDERECO (
   CDEMPRESA             VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE       VARCHAR(20)          NOT NULL,
   CDNOVOCLIENTE         VARCHAR(20)          NOT NULL,
   FLORIGEMNOVOCLIENTE   CHAR(1)              NOT NULL,
   CDENDERECO            VARCHAR(20)          NOT NULL,
   DSLOGRADOURO          VARCHAR(100)         NULL,
   DSCOMPLEMENTO         VARCHAR(100)         NULL,
   DSBAIRRO              VARCHAR(100)         NULL,
   DSCEP                 VARCHAR(20)          NULL,
   DSCIDADE              VARCHAR(100)         NULL,
   CDUF                  VARCHAR(20)          NULL,
   DSPAIS                VARCHAR(20)          NULL,
   DSPONTOREFERENCIA     VARCHAR(100)         NULL,
   DSOBSERVACAO          VARCHAR(4000)        NULL,
   FLCOMERCIAL           CHAR(1)              NULL,
   FLENTREGA             CHAR(1)              NULL,
   FLENTREGAPADRAO       CHAR(1)              NULL,
   NUCARIMBO             DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO       CHAR(1)              NULL,
   CDUSUARIO             VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVWNOVOCLIENDERECO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDNOVOCLIENTE, FLORIGEMNOVOCLIENTE, CDENDERECO, CDUSUARIO)
)
GO

--VERSÃO 4.191


--VERSÃO 4.193

/*-------------------------------------------------------------------------
Data: 30/11/2015
Autor: Fernando
Descrição: Nova Tabela 
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPRODUTOFALTA (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDTABELAPRECO        VARCHAR(30)          NULL,
   CDCAMPANHA           VARCHAR(20)          NULL,
   DTSOLICITADA         DATETIME             NULL,
   QTSOLICITADA         DECIMAL(9)           NULL,
   QTATENDIDA           DECIMAL(9)           NULL,
   VLPCTDESCONTO        DECIMAL(16,7)        NULL,
   NUCARIMBO			DECIMAL(9,0)		 NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO			VARCHAR(8)			 NOT NULL,
   CONSTRAINT PK_TBLVPPRODUTOFALTA PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDPRODUTO, CDUSUARIO)
)
GO

--VERSÃO 4.194

/*------------------------------------------------------------------------
Data: 24/02/2016
Autor: Ricardo
Descrição: alteração na tabela PEDIDO e PEDIDOERP
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDO ADD CDMOTIVOREGISTROVISITA VARCHAR(20);
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDMOTIVOREGISTROVISITA VARCHAR(20);
GO

--VERSÃO 4.200

/*-------------------------------------------------------------------------
Data: 27/09/2015
Autor: Leonardo Machado Fernandes
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLGERABOLETO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD FLGERABOLETO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLGERABOLETO CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 29/09/2015
Autor: Leonardo Machado Fernandes
Descrição: Novas tabelas
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPEDIDOBOLETO (
   CDEMPRESA               VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE         VARCHAR(20)          NOT NULL,
   NUPEDIDO                VARCHAR(30)          NOT NULL,
   FLORIGEMPEDIDO          CHAR(1)              NOT NULL,
   NUSEQUENCIABOLETOPEDIDO DECIMAL(9,0)         NOT NULL,
   NUBANCO                 VARCHAR(20)          NULL,
   CDBARRAS                VARCHAR(200)         NULL,
   DSLINHASDIGITAVEL       VARCHAR(100)         NULL,
   DTVENCIMENTO            DATETIME             NULL,
   NUAGENCIACODIGOCEDENTE  VARCHAR(40)          NULL,
   DTDOCUMENTO             DATETIME             NULL,
   NUDOCUMENTO             DECIMAL(9,0)         NULL,
   VLBOLETO                DECIMAL(16,7)        NULL,
   NUNOSSONUMERO           DECIMAL(9,0)         NULL,
   DSLOCALPAGAMENTO        VARCHAR(4000)        NULL,
   NUCARTEIRA	           VARCHAR(20)          NULL,
   DSESPECIEDOCUMENTO      VARCHAR(20)          NULL,
   DSOBSCEDENTE            VARCHAR(4000)        NULL,
   FLACEITE                CHAR(1)              NULL,
   NUCARIMBO               DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO         CHAR(1)              NULL,
   CDUSUARIO               VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPPEDIDOBOLETO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, NUSEQUENCIABOLETOPEDIDO, CDUSUARIO)
);
GO

CREATE TABLE TBLVPBANCO (
   CDBANCO                 VARCHAR(20)          NOT NULL,
   NMBANCO                 VARCHAR(100)         NULL,
   IMBANCO                 VARBINARY(MAX)       NULL,
   NUCARIMBO               DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO         CHAR(1)              NULL,
   CDUSUARIO               VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPBANCO PRIMARY KEY (CDBANCO, CDUSUARIO)
);
GO

/*-------------------------------------------------------------------------
Data: 01/03/2016
Autor: Tiago
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLBOLETOIMPRESSO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLBOLETOIMPRESSO CHAR(1);
GO

--VERSÃO 4.201

/*-------------------------------------------------------------------------
Data: 17/03/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTO ADD VLPRECOPADRAO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTOTABPRECO ADD VLPRECOPADRAO DECIMAL(16,7);
GO

/*-------------------------------------------------------------------------
Data: 29/01/2016
Autor: Tiago
Descrição: Nova tabela USUARIOTALTERACAO
------------------------------------------------------------------------*/
CREATE TABLE TBLVPUSUARIOTALTERACAO (
   CDSISTEMA            DECIMAL(9)           NOT NULL,
   CDUSUARIO            VARCHAR(20)          NOT NULL,
   DTALTERACAO          DATETIME             NOT NULL,
   HRALTERACAO          VARCHAR(8)           NOT NULL,
   CDUSUARIOALTERADO    VARCHAR(20)          NULL,
   CDTIPOALTERACAO      VARCHAR(20)          NULL,
   DSTIPOALTERACAO      VARCHAR(100)         NULL,
   NMCOLUNA             VARCHAR(100)         NULL,
   VLCOLUNA             VARCHAR(100)         NULL,
   FLEMAILENVIADO       CHAR(1)              NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CONSTRAINT PK_TBLVPUSUARIOALTERACAO PRIMARY KEY (CDSISTEMA, CDUSUARIO, DTALTERACAO, HRALTERACAO)
)
GO

--VERSÃO 4.203

/*------------------------------------------------------------------------
Data: 02/03/2016
Autor: Fernando
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD FLESTOQUELIBERADO CHAR(1);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLESTOQUELIBERADO CHAR(1);
GO

--VERSÃO 4.204

/*------------------------------------------------------------------------
Data: 23/03/2016
Autor: Ricardo
Descrição: alteração na tabela TRIBUTACAOCONFIG
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTRIBUTACAOCONFIG ADD FLVERIFICAVALORITEM CHAR(1);
GO

--VERSÃO 4.209

/*-------------------------------------------------------------------------
Data: 23/03/2016
Autor: Fernando
Descrição: Alteração chave DescPromocional
------------------------------------------------------------------------*/
ALTER TABLE TBLVPDESCPROMOCIONAL DROP COLUMN NUPROMOCAO;
GO

ALTER TABLE TBLVPDESCPROMOCIONAL ADD NUPROMOCAO DECIMAL(9,0) DEFAULT 0 NOT NULL;
GO

ALTER TABLE TBLVPDESCPROMOCIONAL DROP CONSTRAINT PK_TBLVPDESCPROMOCIONAL;
GO

--ORACLE
DROP INDEX PK_TBLVPDESCPROMOCIONAL;
--/ORACLE

--POSTGRES
DROP INDEX PK_TBLVPDESCPROMOCIONAL;
--/POSTGRES


ALTER TABLE TBLVPDESCPROMOCIONAL ADD CONSTRAINT PK_TBLVPDESCPROMOCIONAL PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDPRODUTO, CDGRUPODESCCLI, CDGRUPODESCPROD, CDTABELAPRECO, QTITEM, CDUSUARIO, NUPROMOCAO);
GO

/*-------------------------------------------------------------------------
Data: 21/03/2016
Autor: Tiago
Descrição: Novas colunas 
------------------------------------------------------------------------*/

ALTER TABLE TBLVPCLIENTEENDERECO ADD DSDIAENTREGA VARCHAR(13);
GO

ALTER TABLE TBLVPCLIENTEENDERECO ADD DSPERIODOENTREGA VARCHAR(100);
GO

ALTER TABLE TBLVPCLIENTEENDERECO ADD DSDIAABERTURA VARCHAR(13);
GO

ALTER TABLE TBLVPCLIENTEENDERECO ADD DSPERIODOABERTURA VARCHAR(100);
GO

ALTER TABLE TBLVPCLIENTEENDERECO ADD FLENTREGAAGENDADA CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 05/04/2016
Autor: Tiago
Descrição: Novas colunas 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEENDERECO ADD DSPERIODOENTREGAALTERNATIVO VARCHAR(100);
GO

ALTER TABLE TBLVPCLIENTEENDERECO ADD NULOGRADOURO VARCHAR(20);
GO

/*-------------------------------------------------------------------------
Data: 06/04/2016
Autor: Tiago
Descrição: Novas colunas 
------------------------------------------------------------------------*/

ALTER TABLE TBLVPNOVOCLIENDERECO ADD NULOGRADOURO VARCHAR(20);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD DSDIAENTREGA VARCHAR(13);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD DSPERIODOENTREGA VARCHAR(100);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD DSPERIODOENTREGAALTERNATIVO VARCHAR(100);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD DSDIAABERTURA VARCHAR(13);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD DSPERIODOABERTURA VARCHAR(100);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD FLENTREGAAGENDADA CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 07/04/2016
Autor: Tiago
Descrição: Novas colunas 
------------------------------------------------------------------------*/

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSDIAENTREGA VARCHAR(13);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSPERIODOENTREGA VARCHAR(100);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSPERIODOENTREGAALTERNATIVO VARCHAR(100);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSDIAABERTURA VARCHAR(13);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSPERIODOABERTURA VARCHAR(100);
GO

--VERSÃO 4.218

/*-------------------------------------------------------------------------
Data: 12/04/2016
Autor: LEONARDO
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPTIPOVEICULO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDTIPOVEICULO        VARCHAR(20)          NOT NULL,
   DSTIPOVEICULO        VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOVEICULO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTIPOVEICULO, CDUSUARIO)
)
go

/*-------------------------------------------------------------------------
Data: 12/04/2016
Autor: LEONARDO
Descrição: Criação de coluna na tabela TBLVPINFOFRETEPEDIDO 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPINFOFRETEPEDIDO ADD CDTIPOVEICULO VARCHAR(20);
GO


--VERSÃO 4.220

/*-------------------------------------------------------------------------
Data: 10/11/2015
Autor: Ricardo
Descrição: novas tabelas
------------------------------------------------------------------------*/
CREATE TABLE TBLVPSAC (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDSAC                VARCHAR(20)          NOT NULL,
   CDTIPOSAC            VARCHAR(20)          NULL,
   CDSUBTIPOSAC         VARCHAR(4000)        NULL,
   DSSAC                VARCHAR(20)          NULL,
   CDREPRESENTANTE      VARCHAR(20)          NULL,
   CDCLIENTE            VARCHAR(20)          NULL,
   CDCONTATO            VARCHAR(20)          NULL,
   CDSTATUSSAC          VARCHAR(20)          NULL,
   NUNOTAFISCAL         VARCHAR(20)          NULL,
   NUPEDIDO             VARCHAR(30)          NULL,
   CDSERIE              VARCHAR(5)           NULL,
   CDUSUARIOSAC         VARCHAR(20)          NULL,
   DTCADASTRO           DATETIME             NULL,
   DTPREVISAO           DATETIME             NULL,
   DTCONCLUSAO          DATETIME             NULL,
   HRCADASTRO           VARCHAR(8)           NULL,
   HRCONCLUSAO          VARCHAR(8)           NULL,
   CDATENDIMENTO        DECIMAL(9,0)         NULL,
   FLSTATUSALTERADO     CHAR(1)              NULL,
   FLSACEXIBIDO         CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPSAC PRIMARY KEY (CDEMPRESA, CDSAC, CDUSUARIO)
)
GO

CREATE TABLE TBLVPATENDIMENTOATIV (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDATENDIMENTOATIVIDADE VARCHAR(20)          NOT NULL,
   CDUSUARIOATENDIMENTO VARCHAR(20)          NULL,
   CDUSUARIOORIGINAL    VARCHAR(20)          NULL,
   CDATENDIMENTOGERACAO VARCHAR(20)          NULL,
   CDSAC                VARCHAR(20)          NULL,
   CDTIPOSAC            VARCHAR(20)          NULL,
   CDATIVIDADESAC       VARCHAR(20)          NULL,
   CDPESQUISA           VARCHAR(20)          NULL,
   DSOBSERVACAO         VARCHAR(4000)        NULL,
   DTATENDIMENTO        DATETIME             NULL,
   FLTIPOGERACAO        CHAR(1)              NULL,
   FLTIPOATENDIMENTO    CHAR(1)              NULL,
   CDSTATUSATENDIMENTO  CHAR(1)              NULL,
   HRATENDIMENTO        VARCHAR(8)           NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPATENDIMENTOATIV PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDATENDIMENTOATIVIDADE, CDUSUARIO)
)
GO

CREATE TABLE TBLVPTIPOSAC (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDTIPOSAC            VARCHAR(20)          NOT NULL,
   DSTIPOSAC            VARCHAR(100)         NULL,
   FLRELACIONARNOTAFISCAL CHAR(1)              NULL,
   FLRELACIONARPEDIDO   CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOSAC PRIMARY KEY (CDEMPRESA, CDTIPOSAC, CDUSUARIO)
)
GO

CREATE TABLE TBLVPSUBTIPOSAC (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDTIPOSAC            VARCHAR(20)          NOT NULL,
   CDSUBTIPOSAC         VARCHAR(20)          NOT NULL,
   DSSUBTIPOSAC         VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPSUBTIPOSAC PRIMARY KEY (CDEMPRESA, CDTIPOSAC, CDSUBTIPOSAC, CDUSUARIO)
)
GO

CREATE TABLE TBLVPTIPOSACATIVIDADE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDTIPOSAC            VARCHAR(20)          NOT NULL,
   CDATIVIDADE          VARCHAR(20)          NOT NULL,
   CDUSUARIOTIPOSAC     VARCHAR(20)          NULL,
   DSTITULO             VARCHAR(1000)        NULL,
   NUSEQUENCIA          DECIMAL(9,0)         NULL,
   NUDIASUTEIS          DECIMAL(9,0)         NULL,
   NUDIASPRAZOMAX       DECIMAL(9,0)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOSACATIVIDADE PRIMARY KEY (CDEMPRESA, CDTIPOSAC, CDATIVIDADE, CDUSUARIO)
)
GO

CREATE TABLE TBLVPCONTATOCRM (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDCONTATO            VARCHAR(20)          NOT NULL,
   NMCONTATO            VARCHAR(100)         NULL,
   NUFONE               VARCHAR(20)          NULL,
   DSEMAIL              VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCONTATOCRM PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDCONTATO, CDUSUARIO)
)
GO

--VERSÃO 4.222

/*-------------------------------------------------------------------------
Data: 29/04/2016
Autor: Pedro
Descrição: nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEENDATUA ADD NULOGRADOURO VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSPAIS VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSCOMPLEMENTO VARCHAR(100);
GO

ALTER TABLE TBLVPCLIENTEENDATUA ADD DSCEP VARCHAR(20);
GO

--VERSÃO 4.226

/*------------------------------------------------------------------------
Data: 26/04/2016
Autor: Tiago
Descrição: Nova coluna tabela Pedido e PedidoErp
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLSITUACAORESERVAEST CHAR(1);
GO
ALTER TABLE TBLVPPEDIDOERP ADD FLSITUACAORESERVAEST CHAR(1);
GO

--VERSÃO 4.230

/*-------------------------------------------------------------------------
Data: 13/05/2016
Autor: Pedro
Descrição: nova coluna na tabela ProdutoTabPreco
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTOTABPRECO ADD CDUNIDADE VARCHAR(20);
GO

--VERSÃO 4.233

/*-------------------------------------------------------------------------
Data: 20/04/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLIGNORACLIENTEATRASADO CHAR(1);
GO

ALTER TABLE TBLVPTIPOPEDIDO ADD FLCOMPLEMENTAR CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD NUPEDIDOCOMPLEMENTADO VARCHAR(30);
GO

ALTER TABLE TBLVPPEDIDOERP ADD NUPEDIDOCOMPLEMENTADO VARCHAR(30);
GO

/*-------------------------------------------------------------------------
Data: 15/04/2016
Autor: Eduardo
Descrição: Criação de colunas nas tabelas PEDIDO, TIPOPEDIDO, e STATUSPEDIDOPDA
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLRELACAOPEDIDOERP CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD NUPEDIDORELTROCA VARCHAR(30);
GO

ALTER TABLE TBLVPPEDIDOERP ADD NUPEDIDORELTROCA VARCHAR(30);
GO

ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD FLRELACIONAPEDIDO CHAR(1);
GO

--VERSÃO 4.238

/*-------------------------------------------------------------------------
Data: 04/05/2016
Autor: Eduardo
Descrição: nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD FLKEYACCOUNT CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD FLKEYACCOUNT CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLKEYACCOUNT CHAR(1);
GO

--VERSÃO 4.242

/*-------------------------------------------------------------------------
Data: 02/05/2016
Autor: Eduardo
Descrição: nova coluna parte da chave primária
------------------------------------------------------------------------*/

ALTER TABLE TBLVPESTOQUE DROP CONSTRAINT PK_TBLVPESTOQUE;
GO

--ORACLE
DROP INDEX PK_TBLVPESTOQUE;
--/ORACLE

ALTER TABLE TBLVPESTOQUE ADD FLORIGEMESTOQUE CHAR(1);
GO

UPDATE TBLVPESTOQUE SET FLORIGEMESTOQUE = 'E';

--SQLSERVER
ALTER TABLE TBLVPESTOQUE ALTER COLUMN FLORIGEMESTOQUE CHAR(1) NOT NULL;
GO
--/SQLSERVER

--ORACLE
ALTER TABLE TBLVPESTOQUE ALTER COLUMN FLORIGEMESTOQUE CHAR(1) NOT NULL;
GO
--/ORACLE

--POSTGRES
ALTER TABLE TBLVPESTOQUE ALTER COLUMN FLORIGEMESTOQUE SET NOT NULL;
GO
--/POSTGRES

ALTER TABLE TBLVPESTOQUE ADD CONSTRAINT PK_TBLVPESTOQUE PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDITEMGRADE1, CDITEMGRADE2, CDITEMGRADE3, CDLOCALESTOQUE, FLORIGEMESTOQUE, CDUSUARIO);
GO

--VERSÃO 4.244

/*-------------------------------------------------------------------------
Data: 14/03/2016
Autor: Tiago
Descrição: Nova tabela ItemNfe e alterações na tabela nfe
------------------------------------------------------------------------*/

/*==============================================================*/
/* Table: TBLVPITEMNFE                                       */
/*==============================================================*/
CREATE TABLE TBLVPITEMNFE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   FLTIPOITEMPEDIDO     CHAR(1)              NOT NULL,
   NUSEQPRODUTO         DECIMAL(9,0)         NOT NULL,
   CDITEMGRADE1         VARCHAR(20)          NOT NULL,
   CDITEMGRADE2         VARCHAR(20)          NOT NULL,
   CDITEMGRADE3         VARCHAR(20)          NOT NULL,
   CDCLASSIFICFISCAL    VARCHAR(20)          NULL,
   CDUNIDADE            VARCHAR(20)          NULL,
   QTITEMFISICO         DECIMAL(16,7)        NULL,
   VLBASEITEMTABELAPRECO DECIMAL(16,7)       NULL,
   VLITEMPEDIDO         DECIMAL(16,7)        NULL,
   VLTOTALICMSITEM      DECIMAL(16,7)        NULL,
   VLPCTICMS            DECIMAL(16,7)        NULL,
   VLTOTALITEMPEDIDO    DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,   
   CONSTRAINT PK_TBLVPITEMNFE PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, FLORIGEMPEDIDO, CDPRODUTO, FLTIPOITEMPEDIDO, NUSEQPRODUTO, CDITEMGRADE1, CDITEMGRADE2, CDITEMGRADE3, CDUSUARIO)
)
go

ALTER TABLE TBLVPNFE ADD VLTOTALICMS DECIMAL(16,7);
GO
ALTER TABLE TBLVPNFE ADD VLTOTALST DECIMAL(16,7);
GO
ALTER TABLE TBLVPNFE ADD VLTOTALIPI DECIMAL(16,7);
GO
ALTER TABLE TBLVPNFE ADD VLTOTALFRETE DECIMAL(16,7);
GO
ALTER TABLE TBLVPNFE ADD VLTOTALSEGURO DECIMAL(16,7);
GO
ALTER TABLE TBLVPNFE ADD VLTOTALDESCONTO DECIMAL(16,7);
GO

--VERSÃO 4.248

/*-------------------------------------------------------------------------
Data: 28/04/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTOFALTA DROP CONSTRAINT PK_TBLVPPRODUTOFALTA;
GO

--ORACLE
DROP INDEX PK_TBLVPPRODUTOFALTA;
--/ORACLE

ALTER TABLE TBLVPPRODUTOFALTA ADD CDPRODUTOFALTA VARCHAR(20) NOT NULL;
GO

ALTER TABLE TBLVPPRODUTOFALTA ADD CONSTRAINT PK_TBLVPPRODUTOFALTA PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDPRODUTOFALTA, CDPRODUTO, CDUSUARIO);
GO

--VERSÃO 4.250

/*-------------------------------------------------------------------------
Data: 10/06/2016
Autor: Tiago
Descrição: Novas colunas na tabela PedidoBoleto
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDOBOLETO ADD DSESPECIE VARCHAR(20);
GO

ALTER TABLE TBLVPPEDIDOBOLETO ADD DTPROCESSAMENTO DATETIME;
GO

--VERSÃO 4.251

/*-------------------------------------------------------------------------
Data: 27/05/2016
Autor: Tiago
Descrição: Novas tabelas
------------------------------------------------------------------------*/
/*==============================================================*/
/* TABLE: TBLVPUSUARIODESC                                      */
/*==============================================================*/
CREATE TABLE TBLVPUSUARIODESC (
   FLORIGEMDESCONTO     CHAR(1)              NOT NULL,
   CDUSUARIO            VARCHAR(20)          NOT NULL,
   VLTOTALFATURADO      DECIMAL(16,7)        NULL,
   VLTOTALDESCONTO      DECIMAL(16,7)        NULL,
   VLPCTMAXDESCONTO     DECIMAL(16,7)        NULL,
   VLPCTMAXDESCPONDERADO DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CONSTRAINT PK_TBLVPUSUARIODESC PRIMARY KEY (FLORIGEMDESCONTO, CDUSUARIO)
)
GO

/*==============================================================*/
/* TABLE: TBLVPPEDIDODESC                                       */
/*==============================================================*/
CREATE TABLE TBLVPPEDIDODESC (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   CDUSUARIOLIBERACAO   VARCHAR(20)          NOT NULL,
   NUSEQUENCIA          DECIMAL(9,0)         NULL,
   VLPCTDESCONTOLIBERADO DECIMAL(16,7)       NULL,
   VLDESCONTOLIBERADO   DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPPEDIDODESC PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, CDUSUARIOLIBERACAO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 31/05/2016
Autor: Tiago
Descrição: Novas colunas
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDO ADD FLPENDENTE CHAR(1);
GO
ALTER TABLE TBLVPPEDIDOERP ADD FLPENDENTE CHAR(1);
GO

--VERSÃO 4.252

/*-------------------------------------------------------------------------
Data: 16/06/2016
Autor: Ricardo
Descrição: Nova coluna na tabela DESCPROMOCIONAL
------------------------------------------------------------------------*/

ALTER TABLE TBLVPDESCPROMOCIONAL ADD CDCONDICAOCOMERCIAL VARCHAR(20) DEFAULT 0 NOT NULL;
GO

ALTER TABLE TBLVPDESCPROMOCIONAL DROP CONSTRAINT PK_TBLVPDESCPROMOCIONAL;
GO

--ORACLE
DROP INDEX PK_TBLVPDESCPROMOCIONAL;
--/ORACLE

ALTER TABLE TBLVPDESCPROMOCIONAL ADD CONSTRAINT PK_TBLVPDESCPROMOCIONAL PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDCLIENTE, CDGRUPODESCCLI, CDGRUPODESCPROD, CDTABELAPRECO, QTITEM, CDUSUARIO, NUPROMOCAO, CDCONDICAOCOMERCIAL);
GO

/*-------------------------------------------------------------------------
Data: 25/05/2016
Autor: Fernando
Descrição: Nova tabela e coluna
------------------------------------------------------------------------*/
CREATE TABLE TBLVPMOTIVOAGENDA (
	CDMOTIVOAGENDA  	 VARCHAR(20)  NOT NULL,
	DSMOTIVOAGENDA  	 VARCHAR(100) NULL,
	FLAGENDAVISITA  	 CHAR(1) 	  NULL,
	FLAGENDAATENDIMENTO  CHAR(1) 	  NULL,
	FLTIPOALTERACAO 	 CHAR(1)	  NULL,
	CDUSUARIO			 VARCHAR(8)	  NOT NULL,
	NUCARIMBO			 DECIMAL(9,0) NULL,
	FLTRANSFERENCIAAGENDA CHAR(1)	  NULL,
CONSTRAINT PK_TBLVPMOTIVOAGENDA PRIMARY KEY(CDMOTIVOAGENDA, CDUSUARIO)
);

GO

ALTER TABLE TBLVPAGENDAVISITA ADD DTAGENDAORIGINAL DATETIME;
GO
ALTER TABLE TBLVPAGENDAVISITA ADD DTVENCIMENTO DATETIME;
GO
ALTER TABLE TBLVPVISITA ADD CDMOTIVOREAGENDAMENTO VARCHAR(20);
GO
ALTER TABLE TBLVPVISITA ADD FLVISITAREAGENDADA CHAR(1);
GO
ALTER TABLE TBLVPVISITA ADD FLVISITATRANSFERIDA CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 03/06/2016
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPUSUARIOSUPERVISOR (
	CDEMPRESA			VARCHAR(20)		NOT NULL,
	CDSUPERVISOR		VARCHAR(20)		NOT NULL,
	CDUSUARIOTELEVENDAS VARCHAR(20)		NOT NULL,
	CDUSUARIO			VARCHAR(8)		NOT NULL,
	NMUSUARIO			VARCHAR(100)	NULL,
	FLTIPOALTERACAO		CHAR(1)			NULL,
	NUCARIMBO			DECIMAL(9,0)	NULL,
CONSTRAINT PK_TBLVPUSUARIOSUPERVISOR PRIMARY KEY(CDEMPRESA, CDSUPERVISOR, CDUSUARIOTELEVENDAS, CDUSUARIO)
);
GO

/*-------------------------------------------------------------------------
Data: 06/06/2016
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPAGENDAATENDIMENTO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDAGENDAATENDIMENTO  VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NULL,
   CDREPRESENTANTE      VARCHAR(20)          NULL,
   CDUSUARIOAGENDA 		VARCHAR(20) 		 NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CDLOTE               VARCHAR(20)          NULL,
   CDCAMPANHAGERAL      VARCHAR(20)          NULL,
   NMCONTATO            VARCHAR(100)         NULL,
   NUFONE               VARCHAR(20)          NULL,
   DTAGENDAATENDIMENTO  DATETIME             NULL,
   DSAGENDAATENDIMENTO  VARCHAR(100)         NULL,
   DTVENCIMENTO         DATETIME             NULL,
   HRAGENDAATENDIMENTO  VARCHAR(5)           NULL,
   DSOBSERVACAO         VARCHAR(4000)        NULL,
   CDAGENDAANTERIOR     VARCHAR(20)          NULL,
   CDMOTIVOTRANSFERENCIA VARCHAR(20)         NULL,
   FLREAGENDAMENTO      CHAR(1)              NULL,
   NUCARIMBO			DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CONSTRAINT PK_TBLVPAGENDAATENDIMENTO PRIMARY KEY (CDAGENDAATENDIMENTO, CDEMPRESA, CDUSUARIO)
);
GO

/*-------------------------------------------------------------------------
Data: 10/06/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEATUA ADD FLORIGEMATUALIZACAO CHAR(1);
GO

--VERSÃO 4.255

/*-------------------------------------------------------------------------
Data: 23/05/2016
Autor: Eduardo
Descrição: novas tabelas
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCEP (
   DSCEP                VARCHAR(20)          NOT NULL,
   CDLOGRADOURO         VARCHAR(20)          NOT NULL,
   CDBAIRRO             VARCHAR(20)          NOT NULL,
   CDCIDADE             VARCHAR(20)          NOT NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCEP PRIMARY KEY (DSCEP, CDLOGRADOURO, CDBAIRRO, CDCIDADE, CDUSUARIO)
)
GO

CREATE TABLE TBLVPLOGRADOURO (
   CDLOGRADOURO         VARCHAR(20)          NOT NULL,
   DSLOGRADOURO         VARCHAR(100)         NULL,
   DSTIPOLOGRADOURO     VARCHAR(20)          NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPLOGRADOURO PRIMARY KEY (CDLOGRADOURO, CDUSUARIO)
)
GO

CREATE TABLE TBLVPBAIRRO (
   CDBAIRRO             VARCHAR(20)          NOT NULL,
   DSBAIRRO             VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPBAIRRO PRIMARY KEY (CDBAIRRO, CDUSUARIO)
)
GO

CREATE TABLE TBLVPCIDADE (
   CDCIDADE             VARCHAR(20)          NOT NULL,
   NMCIDADE             VARCHAR(100)         NULL,
   CDUF                 VARCHAR(20)          NULL,
   FLCAPITAL            CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCIDADE PRIMARY KEY (CDCIDADE, CDUSUARIO)
)
GO

--VERSÃO 4.257

/*-------------------------------------------------------------------------
Data: 13/06/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPESQUISAMERCADO ADD CDPRODUTOCONCORRENTE VARCHAR(20);
GO

/*-------------------------------------------------------------------------
Data: 14/06/2016
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPRODUTOCONCORRENTE (
	CDEMPRESA				VARCHAR(20)		NOT NULL,
	CDREPRESENTANTE			VARCHAR(20)		NOT NULL,
	CDPRODUTOCONCORRENTE	VARCHAR(20)		NOT NULL,
	DSPRODUTOCONCORRENTE	VARCHAR(100)	NOT NULL,
	CDCONCORRENTE			VARCHAR(20)		NOT NULL,
	CDUSUARIO				VARCHAR(8)		NOT NULL,
	FLTIPOALTERACAO			CHAR(1)			NULL,
	NUCARIMBO				DECIMAL(9,0)	NULL,
	CONSTRAINT PK_TBLVPPRODUTOCONCORRENTE PRIMARY KEY(CDEMPRESA,CDREPRESENTANTE,CDPRODUTOCONCORRENTE,CDCONCORRENTE,CDUSUARIO)
);
GO

/*-------------------------------------------------------------------------
Data: 15/06/2016
Autor: Fernando
Descrição: Nova tabela e coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD NUDIASSEMPESQUISA DECIMAL(9,0);
GO

CREATE TABLE TBLVPCLIENTECONC (
	CDEMPRESA		VARCHAR(20)	NOT NULL,
	CDREPRESENTANTE VARCHAR(20)	NOT NULL,
	CDCLIENTE		VARCHAR(20)	NOT NULL,
	CDCONCORRENTE	VARCHAR(20)	NOT NULL,
	CDUSUARIO		VARCHAR(8)	NOT NULL,
	FLTIPOALTERACAO CHAR(1)		NULL,
	NUCARIMBO		DECIMAL(9,0) NULL,
CONSTRAINT PK_TBLVPCLIENTECONC PRIMARY KEY(CDEMPRESA,CDREPRESENTANTE,CDCLIENTE,CDCONCORRENTE,CDUSUARIO)
);
GO


/*-------------------------------------------------------------------------
Data: 17/06/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD FLGERADIASPESQUISA CHAR(1);
GO

--VERSÃO 4.258

/*-------------------------------------------------------------------------
Data: 08/06/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD VLPCTACRESCIMOCUSTO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDO ADD CDMOTIVOACRESCIMOCUSTO VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTACRESCIMOCUSTO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDMOTIVOACRESCIMOCUSTO VARCHAR(20) NULL;
GO

/*-------------------------------------------------------------------------
Data: 27/05/2016
Autor: Eduardo
Descrição: nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMTABELAPRECO ADD VLPCTRENTABILIDADEESP DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLPCTRENTABILIDADEMIN DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPCLIENTE ADD CDSTATUSRENTCLI VARCHAR(20) NULL;
GO

/*-------------------------------------------------------------------------
Data: 30/05/2016
Autor: Eduardo
Descrição: Nova tabela 
------------------------------------------------------------------------*/
CREATE TABLE TBLVPSTATUSRENTCLI (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDSTATUSRENTCLI      VARCHAR(20)          NOT NULL,
   DSSTATUSRENTCLI      VARCHAR(100)         NULL,
   VLRLISTA             DECIMAL(9,0)         NULL,
   VLGLISTA             DECIMAL(9,0)         NULL,
   VLBLISTA             DECIMAL(9,0)         NULL,
   VLRICON              DECIMAL(9,0)         NULL,
   VLGICON              DECIMAL(9,0)         NULL,
   VLBICON              DECIMAL(9,0)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPSTATUSRENTCLI PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDSTATUSRENTCLI, CDUSUARIO)
);
GO

--VERSÃO 4.264

/*-------------------------------------------------------------------------
Data: 16/06/2016
Autor: Eduardo
Descrição: Nova Tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPRODUTOCOMPLEMENTO (
	CDEMPRESA                VARCHAR(20)          NOT NULL,
	CDREPRESENTANTE          VARCHAR(20)          NOT NULL, 
	CDPRODUTO                VARCHAR(20)          NOT NULL, 
	CDPRODUTOCOMPLEMENTO     VARCHAR(20)          NOT NULL,
	NUCARIMBO                DECIMAL(9,0)         NULL,
	FLTIPOALTERACAO             CHAR(1)           NULL,
	CDUSUARIO                VARCHAR(8)           NOT NULL,
	CONSTRAINT PK_TBLVPPRODUTOCOMPLEMENTO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDPRODUTOCOMPLEMENTO, CDUSUARIO)
);
GO

/*-------------------------------------------------------------------------
Data: 16/06/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPGIROPRODUTO ADD NURELEVANCIA DECIMAL(9,0) NULL;
GO

ALTER TABLE TBLVPSUGESTAOVENDAPROD ADD NURELEVANCIA DECIMAL(9,0) NULL;
GO

ALTER TABLE TBLVPPRODUTO ADD NURELEVANCIA DECIMAL(9,0) NULL;
GO

ALTER TABLE TBLVPSUGESTAOVENDA ADD FLFECHAMENTO CHAR(1) NULL;
GO

/*-------------------------------------------------------------------------
Data: 05/07/2016
Autor: Eduardo
Descrição: Novos parâmetros
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD FLRECEBEEMAIL CHAR(1) NULL;
GO

ALTER TABLE TBLVPVISITA ADD FLPEDIDOSEMVISITA CHAR(1) NULL;
GO

ALTER TABLE TBLVPVISITA ADD FLPEDIDOOUTROCLIENTE CHAR(1) NULL;
GO

ALTER TABLE TBLVPNOTIFICACAOPDA ADD NUSEQUENCIA DECIMAL(9,0);
GO

--VERSÃO 4.268

/*-------------------------------------------------------------------------
Data: 11/07/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPUSUARIODESC ADD NUORDEMLIBERACAO DECIMAL(9,0);
GO

--VERSÃO 4.271

/*-------------------------------------------------------------------------
Data: 27/06/2016
Autor: Eduardo
Descrição: novas colunas tabela produto
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTO ADD FLLOTEOBRIGATORIO CHAR(1) NULL;
GO

ALTER TABLE TBLVPPRODUTO ADD FLPERMITEESTOQUENEGATIVO CHAR(1) NULL;
GO

--VERSÃO 4.272

/*-------------------------------------------------------------------------
Data: 14/07/2016
Autor: Eduardo
Descrição: Novas colunas padrão na ClienteAtua
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEATUA ADD DSCEPCOMERCIAL VARCHAR(20) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DSTIPOLOGRADOUROCOMERCIAL VARCHAR(20) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DSLOGRADOUROCOMERCIAL VARCHAR(100) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DSNUMEROLOGRADOUROCOMERCIAL VARCHAR(20) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DSCOMPLEMENTOCOMERCIAL VARCHAR(100) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DSBAIRROCOMERCIAL VARCHAR(100) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DSCIDADECOMERCIAL VARCHAR(100) NULL;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD CDUFCOMERCIAL VARCHAR(20) NULL;
GO

--VERSÃO 4.276

/*-------------------------------------------------------------------------
Data: 10/06/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD FLQUANTIDADELIBERADA CHAR(1) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLQUANTIDADELIBERADA CHAR(1) NULL;
GO

ALTER TABLE TBLVPITEMTABELAPRECO ADD VLPCTMAXPARTICIPACAO DECIMAL(16,7) NULL;
GO

/*-------------------------------------------------------------------------
Data: 12/07/2016
Autor: Tiago
Descrição: Novas colunas
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPESQUISAMERCADO ADD QTITEMFRENTE DECIMAL(9,0);
GO

ALTER TABLE TBLVPPESQUISAMERCADO ADD QTITEMPROFUNDIDADE DECIMAL(9,0);
GO

ALTER TABLE TBLVPPESQUISAMERCADO ADD QTITEMANDAR DECIMAL(9,0);
GO

ALTER TABLE TBLVPPESQUISAMERCADO ADD QTITEMTOTAL DECIMAL(9,0);
GO

ALTER TABLE TBLVPPESQUISAMERCADO ADD CDTIPOPESQUISA VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTE ADD NUDIASSEMPESQUISAGONDOLA DECIMAL(9,0);
GO

/*-------------------------------------------------------------------------
Data: 19/07/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPESQUISAMERCADO ADD FLPESQUISANOVOCLIENTE CHAR(1);
GO

--VERSÃO 4.278

/*-------------------------------------------------------------------------
Data: 01/08/2016
Autor: Eduardo
Descrição: Nova PK TBLVPCLIENTEATUA 
------------------------------------------------------------------------*/

UPDATE TBLVPCLIENTEATUA SET FLORIGEMATUALIZACAO = 'P' WHERE FLORIGEMATUALIZACAO IS NULL;

ALTER TABLE TBLVPCLIENTEATUA DROP CONSTRAINT PK_TBLVPCLIENTEATUA;
GO

--ORACLE
DROP INDEX PK_TBLVPCLIENTEATUA;
--/ORACLE

--SQLSERVER
ALTER TABLE TBLVPCLIENTEATUA ALTER COLUMN FLORIGEMATUALIZACAO CHAR(1) NOT NULL;
GO
--/SQLSERVER

--ORACLE
ALTER TABLE TBLVPCLIENTEATUA ALTER COLUMN FLORIGEMATUALIZACAO CHAR(1) NOT NULL;
GO
--/ORACLE

--POSTGRES
ALTER TABLE TBLVPCLIENTEATUA ALTER COLUMN FLORIGEMATUALIZACAO SET NOT NULL;
GO
--/POSTGRES

ALTER TABLE TBLVPCLIENTEATUA ADD CONSTRAINT PK_TBLVPCLIENTEATUA PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDREGISTRO, FLORIGEMATUALIZACAO, CDUSUARIO);
GO

/*-------------------------------------------------------------------------
Data: 01/08/2016
Autor: Eduardo
Descrição: Nova coluna PK TBLVPCLIENTEENDATUA 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEENDATUA ADD FLORIGEMATUALIZACAO CHAR(1) NULL;
GO

UPDATE TBLVPCLIENTEENDATUA SET FLORIGEMATUALIZACAO = 'P' WHERE FLORIGEMATUALIZACAO IS NULL;

ALTER TABLE TBLVPCLIENTEENDATUA DROP CONSTRAINT PK_TBLVPCLIENTEENDATUA;
GO

--ORACLE
DROP INDEX PK_TBLVPCLIENTEENDATUA;
--/ORACLE

--SQLSERVER
ALTER TABLE TBLVPCLIENTEENDATUA ALTER COLUMN FLORIGEMATUALIZACAO CHAR(1) NOT NULL;
GO
--/SQLSERVER

--ORACLE
ALTER TABLE TBLVPCLIENTEENDATUA ALTER COLUMN FLORIGEMATUALIZACAO CHAR(1) NOT NULL;
GO
--/ORACLE

--POSTGRES
ALTER TABLE TBLVPCLIENTEENDATUA ALTER COLUMN FLORIGEMATUALIZACAO SET NOT NULL;
GO
--/POSTGRES

ALTER TABLE TBLVPCLIENTEENDATUA ADD CONSTRAINT PK_TBLVPCLIENTEENDATUA PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDENDERECO, CDREGISTRO, FLORIGEMATUALIZACAO, CDUSUARIO);
GO

--VERSÃO 4.280

/*-------------------------------------------------------------------------
Data: 01/06/2016
Autor: Ricardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTOFALTA ADD DTREGISTRO DATETIME;
GO

--VERSÃO 4.282

/*-------------------------------------------------------------------------
Data: 25/04/2016
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPVISITA ADD DTSERVIDOR DATETIME;
GO

ALTER TABLE TBLVPVISITA ADD HRSERVIDOR CHAR(8);
GO

/*-------------------------------------------------------------------------
Data: 27/04/2016
Autor: Tiago
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCOLETAGPS (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   DTCOLETAGPS          DATETIME             NOT NULL,
   HRINICIOCOLETA       VARCHAR(8)           NOT NULL,
   HRFIMCOLETA          VARCHAR(8)           NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPCOLETAGPS PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, DTCOLETAGPS, HRINICIOCOLETA, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 15/07/2016
Autor: Ricardo
Descrição: Nova coluna
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPONTOGPS ADD VLPRECISAO DECIMAL(16,7)
GO

--VERSÃO 4.291

/*-------------------------------------------------------------------------
Data: 25/07/2016
Autor: Eduardo
Descrição: novas colunas 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDOERPDIF ADD DSOBSERVACAOORG VARCHAR(4000) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERPDIF ADD DSOBSERVACAOERP VARCHAR(4000) NULL;
GO

--VERSÃO 4.293

/*-------------------------------------------------------------------------
Data: 21/08/2016
Autor: Leonardo Machado Fernandes
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCAMPO ADD DSCOLUNASCEP VARCHAR(500) NULL;
GO


--VERSÃO 4.295


/*-------------------------------------------------------------------------
Data: 09/08/2016
Autor: Fernando
Descrição: Novas colunas 
------------------------------------------------------------------------*/
ALTER TABLE TBLVPNOVOCLIENTE ADD CDLATITUDE DECIMAL(23,20);
GO

ALTER TABLE TBLVPNOVOCLIENTE ADD CDLONGITUDE DECIMAL(23,20);
GO

ALTER TABLE TBLVPNOVOCLIENTE ADD FLCADCOORDENADALIBERADO CHAR(1);
GO

--VERSÃO 4.297

/*-------------------------------------------------------------------------
Data: 15/08/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTABELAPRECO ADD CDLOCALESTOQUE VARCHAR(20) NULL;
GO

/*-------------------------------------------------------------------------
Data: 27/07/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCONDICAOCOMERCIAL ADD CDTABELAPRECO VARCHAR(30);
GO

/*-------------------------------------------------------------------------
Data: 16/08/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/

ALTER TABLE TBLVPITEMPEDIDO ADD CDCONDICAOCOMERCIAL VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD CDCONDICAOCOMERCIAL VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPCONDICAOCOMERCIAL ADD FLACESSIVELOUTRASCOND CHAR(1) NULL;
GO

ALTER TABLE TBLVPCONDICAOCOMERCIAL ADD FLACESSAOUTRASCOND CHAR(1) NULL;
GO

--VERSÃO 4.298

/*-------------------------------------------------------------------------
Data: 02/08/2016
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPTIPOFRETECLI (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   CDTIPOFRETE          VARCHAR(20)          NOT NULL,
   FLDEFAULT            CHAR(1)              NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOFRETECLI PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDTIPOFRETE, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 20/07/2016
Autor: Tiago
Descrição: Nova tabela
------------------------------------------------------------------------*/
/*==============================================================*/
/* Table: TBLVPPEDIDODESCERP                                       */
/*==============================================================*/
CREATE TABLE TBLVPPEDIDODESCERP (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   CDUSUARIOLIBERACAO   VARCHAR(20)          NOT NULL,
   NUSEQUENCIA          DECIMAL(9,0)         NULL,
   VLPCTDESCONTOLIBERADO DECIMAL(16,7)        NULL,
   VLDESCONTOLIBERADO   DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPPEDIDODESCERP PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, CDUSUARIOLIBERACAO, CDUSUARIO)
)
go

/*-------------------------------------------------------------------------
Data: 03/08/2016
Autor: Eduardo
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLTIPOCREDITO CHAR(1) NULL;
GO

ALTER TABLE TBLVPTIPOFRETETABPRECO ADD VLPCTCREDITO DECIMAL(16,7) NULL;
GO 

ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD VLINDICECREDITO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLCREDITOFRETE DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLCREDITOFRETE DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLCREDITOCONDICAO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLCREDITOCONDICAO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDO ADD FLGERACREDITOFRETE CHAR(1) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLGERACREDITOFRETE CHAR(1) NULL;
GO

ALTER TABLE TBLVPPEDIDO ADD VLTOTALCREDITOFRETE DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLTOTALCREDITOFRETE DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDO ADD FLGERACREDITOCONDICAO CHAR(1) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLGERACREDITOCONDICAO CHAR(1) NULL;
GO

ALTER TABLE TBLVPPEDIDO ADD VLTOTALCREDITOCONDICAO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLTOTALCREDITOCONDICAO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPPEDIDO ADD FLVISIVEL CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLVISIVEL CHAR(1);
GO

--VERSÃO 4.302

/*-------------------------------------------------------------------------
Data: 12/08/2016
Autor: Fernando
Descrição: Tabelis
------------------------------------------------------------------------*/
CREATE TABLE TBLVPMOTIVOCOLETA (
	CDMOTIVO	VARCHAR(20)		NOT NULL,
	DSMOTIVO	VARCHAR(100)	NULL,
	FLATIVO		CHAR(1)			NULL,
	FLTIPOALTERACAO CHAR(1)		NULL,
	NUCARIMBO	DECIMAL(9,0)	NULL,
	CDUSUARIO	VARCHAR(8)		NOT NULL,
CONSTRAINT PK_TBLVWMOTIVOCOLETA PRIMARY KEY (CDMOTIVO, CDUSUARIO)
)

GO

ALTER TABLE TBLVPCOLETAGPS ADD CDMOTIVOCOLETA VARCHAR(20);
GO

--VERSÃO 4.305

 /*-------------------------------------------------------------------------
Data: 09/09/2016
Autor: Eduardo
Descrição: Tabela
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTABELAPRECO ADD QTPESOMIN DECIMAL(16,7);
GO

--VERSÃO 4.309

/*-------------------------------------------------------------------------
Data: 16/09/2016
Autor: Ricardo
Descrição: nova coluna na tabela Pedido e PedidoErp
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPEDIDO ADD VLTOTALBASEITENS DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLTOTALBASEITENS DECIMAL(16,7);
GO

--VERSÃO 4.310

/*-------------------------------------------------------------------------
Data: 31/08/2016
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPVERBAFORNECEDOR (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDFORNECEDOR         VARCHAR(20)          NOT NULL,
   FLORIGEMVERBA        CHAR(1)              NOT NULL,
   VLSALDO              DECIMAL(16,7)        NULL,
   VLSALDOINICIAL       DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPVERBAFORNECEDOR PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDFORNECEDOR, FLORIGEMVERBA, CDUSUARIO)
)
GO

--VERSÃO 4.314

 /*-------------------------------------------------------------------------
Data: 22/09/2016
Autor: Eduardo
Descrição: Alteração colunas
------------------------------------------------------------------------*/
--SQLSERVER
ALTER TABLE TBLVPVISITA ALTER COLUMN HRVISITA CHAR(8);
GO

ALTER TABLE TBLVPVISITA ALTER COLUMN HRCHEGADAVISITA CHAR(8);
GO

ALTER TABLE TBLVPVISITA ALTER COLUMN HRSAIDAVISITA CHAR(8);
GO
--/SQLSERVER

--ORACLE
ALTER TABLE TBLVPVISITA MODIFY HRVISITA CHAR(8);
GO

ALTER TABLE TBLVPVISITA MODIFY HRCHEGADAVISITA CHAR(8);
GO

ALTER TABLE TBLVPVISITA MODIFY HRSAIDAVISITA CHAR(8);
GO
--/ORACLE

--POSTGRES
ALTER TABLE TBLVPVISITA ALTER COLUMN HRVISITA TYPE CHAR(8);

ALTER TABLE TBLVPVISITA ALTER COLUMN HRCHEGADAVISITA TYPE CHAR(8);

ALTER TABLE TBLVPVISITA ALTER COLUMN HRSAIDAVISITA TYPE CHAR(8);
--/POSTGRES


/*-------------------------------------------------------------------------
Data: 22/09/2016
Autor: Eduardo
Descrição: Acrescentando segundos 
------------------------------------------------------------------------*/

--SQLSERVER
UPDATE TBLVPVISITA SET HRVISITA = CONCAT(SUBSTRING(HRVISITA, 1, 5), ':00') WHERE HRVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRCHEGADAVISITA = CONCAT(SUBSTRING(HRCHEGADAVISITA, 1, 5), ':00') WHERE HRCHEGADAVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRSAIDAVISITA = CONCAT(SUBSTRING(HRSAIDAVISITA, 1, 5), ':00') WHERE HRSAIDAVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRSERVIDOR = CONCAT(SUBSTRING(HRSERVIDOR, 1, 5), ':00') WHERE HRSERVIDOR IS NOT NULL AND SUBSTRING(HRSERVIDOR, 6, 1) <> ':';
--/SQLSERVER


--ORACLE
UPDATE TBLVPVISITA SET HRVISITA = CONCAT(SUBSTR(HRVISITA, 1, 5), ':00') WHERE HRVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRCHEGADAVISITA = CONCAT(SUBSTR(HRCHEGADAVISITA, 1, 5), ':00') WHERE HRCHEGADAVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRSAIDAVISITA = CONCAT(SUBSTR(HRSAIDAVISITA, 1, 5), ':00') WHERE HRSAIDAVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRSERVIDOR = CONCAT(SUBSTR(HRSERVIDOR, 1, 5), ':00') WHERE HRSERVIDOR IS NOT NULL AND SUBSTR(HRSERVIDOR, 6, 1) <> ':'
--/ORACLE


--POSTGRES
UPDATE TBLVPVISITA SET HRVISITA = CONCAT(SUBSTRING(HRVISITA from 1 for 5), ':00') WHERE HRVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRCHEGADAVISITA = CONCAT(SUBSTRING(HRCHEGADAVISITA from 1 for 5), ':00') WHERE HRCHEGADAVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRSAIDAVISITA = CONCAT(SUBSTRING(HRSAIDAVISITA from 1 for 5), ':00') WHERE HRSAIDAVISITA IS NOT NULL;

UPDATE TBLVPVISITA SET HRSERVIDOR = CONCAT(SUBSTRING(HRSERVIDOR from 1 for 5), ':00') WHERE HRSERVIDOR IS NOT NULL AND SUBSTRING(HRSERVIDOR from 6 for 1) <> ':'
--/POSTGRES

--VERSÃO 4.319

/*-------------------------------------------------------------------------
Data: 21/09/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTOUNIDADE ADD NUCODIGOBARRAS VARCHAR(200);
GO

/*-------------------------------------------------------------------------
Data: 12/09/2016
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTOTABPRECO ADD FLVENDIDO CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 27/09/2016
Autor: Ricardo
Descrição: alteração na tabela CondicaoPagamento
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD QTDIASMAXIMOPAGAMENTO DECIMAL(9,0) NULL;
GO


--VERSÃO 4.320

/*-------------------------------------------------------------------------
Data: 16/09/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDMOTIVOCANCELAMENTO VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDMOTIVOCANCELAMENTO VARCHAR(20) NULL;
GO

/*-------------------------------------------------------------------------
Data: 16/09/2016
Autor: Eduardo
Descrição: Nova Tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPMOTCANCELPEDIDO (
   CDMOTIVOCANCELAMENTO VARCHAR(20)          NOT NULL,
   DSMOTIVOCANCELAMENTO VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPMOTCANCELPEDIDO PRIMARY KEY (CDMOTIVOCANCELAMENTO, CDUSUARIO)
)
GO


--VERSÃO 4.325

/*-------------------------------------------------------------------------
Data: 29/09/2016
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPGRUPODESCPROD ( 
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDGRUPODESCPROD      VARCHAR(20)          NOT NULL,
   DSGRUPODESCPROD      VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPGRUPODESCPROD PRIMARY KEY (CDEMPRESA, CDGRUPODESCPROD, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 29/09/2016
Autor: Eduardo
Descrição: Nova coluna chave
------------------------------------------------------------------------*/
ALTER TABLE TBLVPDESCONTOGRUPO ADD CDGRUPODESCPROD VARCHAR(20) NULL;
GO

UPDATE TBLVPDESCONTOGRUPO SET CDGRUPODESCPROD = '0' WHERE CDGRUPODESCPROD IS NULL;


ALTER TABLE TBLVPDESCONTOGRUPO DROP CONSTRAINT PK_TBLVPDESCONTOGRUPO;
GO

--ORACLE
DROP INDEX PK_TBLVPDESCONTOGRUPO;
--/ORACLE


--SQLSERVER
ALTER TABLE TBLVPDESCONTOGRUPO ALTER COLUMN CDGRUPODESCPROD VARCHAR(20) NOT NULL;
GO
--/SQLSERVER

--ORACLE
ALTER TABLE TBLVPDESCONTOGRUPO ALTER COLUMN CDGRUPODESCPROD VARCHAR(20) NOT NULL;
GO
--/ORACLE

--POSTGRES
ALTER TABLE TBLVPDESCONTOGRUPO ALTER COLUMN CDGRUPODESCPROD SET NOT NULL;
GO
--/POSTGRES

ALTER TABLE TBLVPDESCONTOGRUPO ADD CONSTRAINT PK_TBLVPDESCONTOGRUPO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDGRUPOPRODUTO1, CDTABELAPRECO, QTITEM, CDGRUPODESCPROD, CDUSUARIO);
GO

--VERSÃO 4.329

/*-------------------------------------------------------------------------
Data: 18/10/2016
Autor: Ricardo
Descrição: Nova coluna
------------------------------------------------------------------------*/

ALTER TABLE TBLVPITEMPEDIDO ADD VLBASECALCULODESCPROMOCIONAL DECIMAL(16,7)        NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLBASECALCULODESCPROMOCIONAL DECIMAL(16,7)        NULL;
GO


--SQLSERVER
IF EXISTS( 
    SELECT * 
    FROM sys.columns  
    WHERE Name      = N'VLBASECALCULODESCONTOPROMOCIONAL' 
      AND Object_ID = Object_ID(N'TBLVPITEMPEDIDO') 
) 
BEGIN 
    ALTER TABLE TBLVPITEMPEDIDO DROP COLUMN VLBASECALCULODESCONTOPROMOCIONAL; 
END
GO

IF EXISTS( 
    SELECT * 
    FROM sys.columns  
    WHERE Name      = N'VLBASECALCULODESCONTOPROMOCIONAL' 
      AND Object_ID = Object_ID(N'TBLVPITEMPEDIDOERP') 
) 
BEGIN 
    ALTER TABLE TBLVPITEMPEDIDOERP DROP COLUMN VLBASECALCULODESCONTOPROMOCIONAL;  
END
GO

--/SQLSERVER

--VERSÃO 4.330

/*-------------------------------------------------------------------------
Data: 15/10/2016
Autor: Ricardo
Descrição: Nova coluna na tabela CondComercialExcec
------------------------------------------------------------------------*/

ALTER TABLE TBLVPCONDCOMERCIALEXCEC ADD CDITEMGRADE1	VARCHAR(20)	DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPCONDCOMERCIALEXCEC DROP CONSTRAINT PK_TBLVPCONDCOMERCIALEXCEC;
GO

--ORACLE
DROP INDEX PK_TBLVPCONDCOMERCIALEXCEC;
GO
--/ORACLE

ALTER TABLE TBLVPCONDCOMERCIALEXCEC ADD CONSTRAINT PK_TBLVPCONDCOMERCIALEXCEC PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDCONDICAOCOMERCIAL, CDITEMGRADE1, CDUSUARIO);
GO

/*-------------------------------------------------------------------------
Data: 17/10/2016
Autor: Tiago
Descrição: Nova coluna
------------------------------------------------------------------------*/

DROP TABLE TBLVPPRODUTOUNIDADE;
GO

CREATE TABLE TBLVPPRODUTOUNIDADE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDUNIDADE            VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDITEMGRADE1         VARCHAR(20)          NOT NULL,
   NUCONVERSAOUNIDADE   DECIMAL(16,7)        NULL,
   NUCODIGOBARRAS       VARCHAR(200)         NULL,
   VLINDICEFINANCEIRO   DECIMAL(16,7)        NULL,
   FLDIVIDEMULTIPLICA   CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPPRODUTOUNIDADE PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDUNIDADE, CDPRODUTO, CDITEMGRADE1, CDUSUARIO)
)
GO

--VERSÃO 4.331

/*-------------------------------------------------------------------------
Data: 27/09/2016
Autor: Tiago
Descrição: Novas colunas nas tabelas USUARIOCONFIG, ITEMPEDIDO, ITEMPEDIDOERP
------------------------------------------------------------------------*/
ALTER TABLE TBLVPUSUARIOCONFIG ADD FLLIBERAITEMPENDENTE CHAR(1);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD FLPENDENTE CHAR(1);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLPENDENTE CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 29/09/2016
Autor: Tiago
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPITEMLIBERACAO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   CDUSUARIOLIBERACAO   VARCHAR(20)          NOT NULL,
   NMUSUARIO	        VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPITEMLIBERACAO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, CDUSUARIOLIBERACAO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 03/10/2016
Autor: Tiago
Descrição: Nova coluna na tabela Pedido
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLITEMPENDENTE CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLITEMPENDENTE CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 04/10/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPUSUARIOCONFIG ADD FLLIBERAOUTRAORDEM CHAR(1);
GO

ALTER TABLE TBLVPPEDIDO ADD FLPEDIDOLIBERADOOUTRAORDEM CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLPEDIDOLIBERADOOUTRAORDEM CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 07/10/2016
Autor: Tiago
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDODESC ADD NMUSUARIO VARCHAR(100);
GO

ALTER TABLE TBLVPPEDIDODESCERP ADD NMUSUARIO VARCHAR(100);
GO

--VERSÃO 4.338

/*-------------------------------------------------------------------------
Data: 17/10/2016
Autor: Leonardo Machado Fernandes
Descrição: Novos campos
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD VLPCTDESCPROGRESSIVOMIX DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTDESCPROGRESSIVOMIX DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCPROGRESSIVOMIX DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCPROGRESSIVOMIX DECIMAL(16,7);
GO

/*-------------------------------------------------------------------------
Data: 20/10/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPDESCPROGRESSIVO ADD CDCONDICAOCOMERCIAL VARCHAR(20) DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPDESCPROGRESSIVO DROP CONSTRAINT PK_TBLVPDESCPROGRESSIVO;
GO

--ORACLE
DROP INDEX PK_TBLVPDESCPROGRESSIVO;
--/ORACLE

ALTER TABLE TBLVPDESCPROGRESSIVO ADD CONSTRAINT PK_TBLVPDESCPROGRESSIVO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTABELAPRECO, CDCONDICAOCOMERCIAL, VLINICIOFAIXA);
GO

--VERSÃO 4.343

/*-------------------------------------------------------------------------
Data: 16/09/2016
Autor: Eduardo
Descrição: Nova Tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPVERBAUSUARIO (
   FLORIGEMSALDO        CHAR(1)              NOT NULL,
   VLSALDO              DECIMAL(16,7)        NULL,
   VLSALDOORG           DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPVERBAUSUARIO PRIMARY KEY (FLORIGEMSALDO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 24/10/2016
Autor: Tiago
Descrição: Nova tabela GRUPOCLIENTE
------------------------------------------------------------------------*/

ALTER TABLE TBLVPCLIENTE ADD CDGRUPOPERMPROD VARCHAR(20);
GO

/*==============================================================*/
/* Table: TBLVPGRUPOCLIPERMPROD                                 */
/*==============================================================*/
CREATE TABLE TBLVPGRUPOCLIPERMPROD (
   CDGRUPOCLIENTE       VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPGRUPOCLIPERMPROD PRIMARY KEY (CDGRUPOCLIENTE, CDPRODUTO, CDUSUARIO)
)
GO

ALTER TABLE TBLVPVISITA ADD DTAGENDAVISITA DATETIME;
GO


--VERSÃO 4.346

/*-------------------------------------------------------------------------
Data: 01/11/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUTO ADD CDFATORCOMUM VARCHAR(20);
GO

ALTER TABLE TBLVPPRODUTOTABPRECO ADD CDFATORCOMUM VARCHAR(20);
GO


--VERSÃO 4.347


/*-------------------------------------------------------------------------
Data: 09/11/2016
Autor: Tiago
Descrição: Novos campos
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPRODUTO ADD VLVOLUME DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLVOLUMEITEM DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLVOLUMEITEM DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDO ADD VLVOLUMEPEDIDO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLVOLUMEPEDIDO DECIMAL(16,7);
GO

--VERSÃO 4.348

/*-------------------------------------------------------------------------
Data: 04/11/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/

ALTER TABLE TBLVPCLIENTEATUA ADD NUCNPJ VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTEATUA ADD FLTIPOPESSOA CHAR(1);
GO

--VERSÃO 4.350

/*-------------------------------------------------------------------------
Data: 07/11/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOFRETE ADD CDUF VARCHAR(20) DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPTIPOFRETE DROP CONSTRAINT PK_TBLVPTIPOFRETE;
GO

--ORACLE
DROP INDEX PK_TBLVPTIPOFRETE;
GO

--/ORACLE

ALTER TABLE TBLVPTIPOFRETE ADD CONSTRAINT PK_TBLVPTIPOFRETE PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTIPOFRETE, CDUF, CDUSUARIO);
GO

ALTER TABLE TBLVPTIPOFRETE ADD VLPCTMAXDESCONTO DECIMAL(16,7);
GO

ALTER TABLE TBLVPTIPOFRETE ADD VLMINIMO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDO ADD VLPCTDESCFRETE DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTDESCFRETE DECIMAL(16,7);
GO

/*-------------------------------------------------------------------------
Data: 17/11/2016
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD VLPCTMINDESCONTO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDO ADD VLPCTDESCCLIENTE DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDO ADD VLPCTDESCONTOCONDICAO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTDESCCLIENTE DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLPCTDESCONTOCONDICAO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCCLIENTE DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCONTOCONDICAO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCFRETE DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCCLIENTE DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCONTOCONDICAO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCFRETE DECIMAL(16,7);
GO

--VERSÃO 4.358

/*-------------------------------------------------------------------------
Autor: Leonardo Machado Fernandes	
Data: 06/11/2016
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPAGENDAVISITA ADD DTFINAL DATETIME;
GO

/*-------------------------------------------------------------------------
Autor: Leonardo Machado Fernandes	
Data: 07/11/2016
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPAGENDACADASTRO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDCLIENTE            VARCHAR(20)          NOT NULL,
   NUDIASEMANA          DECIMAL(9,0)         NOT NULL,
   FLSEMANAMES          CHAR(1)              NOT NULL,
   FLTIPOFREQUENCIA     CHAR(1)              NULL,
   NUSEQUENCIA          DECIMAL(9,0)         NULL,
   DTBASE               DATETIME             NULL,
   HRAGENDA             VARCHAR(8)           NULL,
   CDTIPOAGENDA			VARCHAR(20)          NULL,
   DSOBSERVACAO         VARCHAR(100)         NULL,
   DTAGENDAORIGINAL     DATETIME             NULL,
   DTVENCIMENTO         DATETIME             NULL,
   DTFINAL              DATETIME             NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPAGENDACADASTRO PRIMARY KEY NONCLUSTERED (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, NUDIASEMANA, FLSEMANAMES, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 18/11/2016
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPTIPOAGENDA (
   CDTIPOAGENDA         VARCHAR(20)          NOT NULL,
   DSTIPOAGENDA         VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPTIPOAGENDA PRIMARY KEY (CDTIPOAGENDA, CDUSUARIO)
)
GO


/*-------------------------------------------------------------------------
Data: 18/11/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPAGENDAVISITA ADD CDTIPOAGENDA VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPVISITA ADD CDTIPOAGENDA VARCHAR(20) NULL;
GO

/*-------------------------------------------------------------------------
Autor: Fernando
Data: 23/11/2016
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPAGENDAVISITA ADD CDREPORIGINAL VARCHAR(20);
GO

ALTER TABLE TBLVPVISITA ADD CDREPORIGINAL VARCHAR(20);
GO

/*-------------------------------------------------------------------------
Data: 22/11/2016
Autor: Tiago
Descrição: Nova coluna
------------------------------------------------------------------------*/

DROP TABLE TBLVPREDE;
GO

CREATE TABLE TBLVPREDE (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREDE               VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   DSREDE               VARCHAR(100)         NULL,
   VLSALDO              DECIMAL(16,7)        NULL,
   VLLIMITECREDITO      DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPREDE PRIMARY KEY (CDEMPRESA, CDREDE, CDREPRESENTANTE, CDUSUARIO)
)
GO

--VERSÃO 4.361

/*-------------------------------------------------------------------------
Autor: Fernando
Data: 07/11/2016
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPAGAMENTOPEDIDO (
	CDEMPRESA			VARCHAR(20)		NOT NULL,
	CDREPRESENTANTE		VARCHAR(20)		NOT NULL,
	CDPAGAMENTOPEDIDO	VARCHAR(20)		NOT NULL,
	NUPEDIDO			VARCHAR(30)     NOT NULL,
	FLORIGEMPEDIDO      CHAR(1)         NOT NULL,
	CDTIPOPAGAMENTO     VARCHAR(20)     NULL,
	CDCONDICAOPAGAMENTO VARCHAR(40)     NULL,
	VLPAGAMENTOPEDIDO	DECIMAL(16,7)	NULL,
	VLDESCONTO			DECIMAL(16,7)	NULL,
	NUCARIMBO           DECIMAL(9,0)    NULL,
    FLTIPOALTERACAO     CHAR(1)         NULL,
    CDUSUARIO           VARCHAR(8)      NOT NULL,
CONSTRAINT PK_TBLVPPAGAMENTOPEDIDO PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, CDPAGAMENTOPEDIDO, NUPEDIDO, FLORIGEMPEDIDO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Autor: Fernando
Data: 24/11/2016
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPAGAMENTOPEDIDOERP (
	CDEMPRESA			VARCHAR(20)		NOT NULL,
	CDREPRESENTANTE		VARCHAR(20)		NOT NULL,
	CDPAGAMENTOPEDIDO	VARCHAR(20)		NOT NULL,
	NUPEDIDO			VARCHAR(30)     NOT NULL,
	FLORIGEMPEDIDO      CHAR(1)         NOT NULL,
	CDTIPOPAGAMENTO     VARCHAR(20)     NULL,
	CDCONDICAOPAGAMENTO VARCHAR(40)     NULL,
	VLPAGAMENTOPEDIDO	DECIMAL(16,7)	NULL,
	VLDESCONTO			DECIMAL(16,7)	NULL,
	NUCARIMBO           DECIMAL(9,0)    NULL,
    FLTIPOALTERACAO     CHAR(1)         NULL,
    CDUSUARIO           VARCHAR(8)      NOT NULL,
CONSTRAINT PK_TBLVPPAGAMENTOPEDIDOERP PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, CDPAGAMENTOPEDIDO, NUPEDIDO, FLORIGEMPEDIDO, CDUSUARIO)
)
GO

--VERSÃO 4.362

/*-------------------------------------------------------------------------
Data: 29/11/2016
Autor: Leonardo Machado Fernandes
Descrição: Novo campo	
------------------------------------------------------------------------*/
ALTER TABLE TBLVPVISITA ADD FLLIBERADOSENHA CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 01/12/2016
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPAGENDAVISITA ADD FLAGENDAREAGENDADA CHAR(1);
GO

ALTER TABLE TBLVPAGENDAVISITA ADD CDMOTIVOREAGENDAMENTO VARCHAR(20);
GO

ALTER TABLE TBLVPAGENDAVISITA ADD DTAGENDAREAGENDADA DATETIME;
GO


--VERSÃO 4.370

/*-------------------------------------------------------------------------
Autor: Tiago 	
Data: 02/12/2016
Descrição: Nova tabela
------------------------------------------------------------------------*/

CREATE TABLE TBLVPGRUPOPRODUTO4 (
   CDGRUPOPRODUTO1      VARCHAR(20)          NOT NULL,
   CDGRUPOPRODUTO2      VARCHAR(20)          NOT NULL,
   CDGRUPOPRODUTO3      VARCHAR(20)          NOT NULL,
   CDGRUPOPRODUTO4      VARCHAR(20)          NOT NULL,
   DSGRUPOPRODUTO4      VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPGRUPOPRODUTO4 PRIMARY KEY NONCLUSTERED (CDGRUPOPRODUTO1, CDGRUPOPRODUTO2, CDGRUPOPRODUTO3, CDGRUPOPRODUTO4, CDUSUARIO)
)
GO

ALTER TABLE TBLVPPRODUTO ADD CDGRUPOPRODUTO4 VARCHAR(20);
GO

ALTER TABLE TBLVPPRODUTO ADD NURANKINGEMP DECIMAL(9,0);
GO

ALTER TABLE TBLVPPRODUTO ADD NURANKINGREP DECIMAL(9,0);
GO

ALTER TABLE TBLVPPRODUTO ADD NURANKINGSUP DECIMAL(9,0);
GO
 
ALTER TABLE TBLVPPRODUTO ADD NURANKINGREG DECIMAL(9,0);
GO

ALTER TABLE TBLVPPRODUTOTABPRECO ADD NURANKINGEMP DECIMAL(9,0);
GO

ALTER TABLE TBLVPPRODUTOTABPRECO ADD NURANKINGREP DECIMAL(9,0);
GO

ALTER TABLE TBLVPPRODUTOTABPRECO ADD NURANKINGSUP DECIMAL(9,0);
GO
 
ALTER TABLE TBLVPPRODUTOTABPRECO ADD NURANKINGREG DECIMAL(9,0);
GO

--VERSÃO 4.371

/*-------------------------------------------------------------------------
Data: 23/11/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEENDATUA ADD FLTIPOREGISTRO CHAR(1) NULL;
GO

ALTER TABLE TBLVPCLIENTEENDATUA DROP COLUMN FLENDERECOEXCLUIDO;
GO

--VERSÃO 4.373

/*-------------------------------------------------------------------------
Data: 06/12/2016
Autor: Leonardo Machado Fernandes
Descrição: Novos campos	
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPAGAMENTO ADD FLCHEQUE CHAR(1);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD CDBANCO VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD NUCOMPLEMENTO VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD NUAGENCIA VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD NUCONTA VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD NUCHEQUE VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD FLCHEQUETERCEIRO CHAR(1);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD DSEMITENTE VARCHAR(100);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD DSREFERENTECHEQUE VARCHAR(4000);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD DTVENCIMENTO DATETIME;
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD CDBANCO VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD NUCOMPLEMENTO VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD NUAGENCIA VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD NUCONTA VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD NUCHEQUE VARCHAR(30);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD FLCHEQUETERCEIRO CHAR(1);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD DSEMITENTE VARCHAR(100);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD DSREFERENTECHEQUE VARCHAR(4000);
GO

ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD DTVENCIMENTO DATETIME;
GO


--VERSÃO 4.384

/*-------------------------------------------------------------------------
Data: 21/12/2016
Autor: Ricardo
Descrição: Nova coluna na tabela MotivoColeta e ColetaGps
------------------------------------------------------------------------*/

ALTER TABLE TBLVPMOTIVOCOLETA ADD FLENCERRAAUTOMATICO CHAR(1);
GO

ALTER TABLE TBLVPCOLETAGPS ADD DTENCERRAMENTOAUTO DATETIME;
GO

ALTER TABLE TBLVPCOLETAGPS ADD HRENCERRAMENTOAUTO VARCHAR(8);
GO

--VERSÃO 4.385

/*-------------------------------------------------------------------------
Data: 28/12/2016
Autor: Ricardo
Descrição: Nova coluna na tabela TipoPedido
------------------------------------------------------------------------*/

ALTER TABLE TBLVPTIPOPEDIDO ADD FLGERAATENDIMENTO CHAR(1);
GO

--VERSAO 4.389

/*-------------------------------------------------------------------------
Data: 23/12/2016
Autor: Fernando
Descrição: Novo campo	
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD VLTOTALTROCAPEDIDO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD VLTOTALTROCAPEDIDO DECIMAL(16,7);
GO

/*-------------------------------------------------------------------------
Autor: Leonardo Machado Fernandes
Data: 13/12/2016
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPITEMNFEREFERENCIA (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   FLTIPOITEMPEDIDO     CHAR(1)              NOT NULL,
   NUSEQPRODUTO         DECIMAL(9,0)         NOT NULL,
   CDTRIBUTACAOCONFIG   VARCHAR(20)          NOT NULL,
   CDREFERENCIA          VARCHAR(20)         NOT NULL,
   DSREFERENCIA         VARCHAR(100)         NULL,
   CDCFOP                 VARCHAR(20)        NULL, 
   CDCLASSIFICFISCAL    VARCHAR(20)          NULL,
   CDUNIDADE            VARCHAR(20)          NULL,
   QTITEMFISICO         DECIMAL(16,7)        NULL,
   VLBASEITEMTABELAPRECO DECIMAL(16,7)       NULL, 
   VLITEMPEDIDO         DECIMAL(16,7)        NULL,
   VLTOTALICMSITEM      DECIMAL(16,7)        NULL,
   VLPCTICMS            DECIMAL(16,7)        NULL,
   VLTOTALITEMPEDIDO    DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPITEMNFEREFERENCIA PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, FLORIGEMPEDIDO, FLTIPOITEMPEDIDO, NUSEQPRODUTO, CDTRIBUTACAOCONFIG, CDREFERENCIA, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 15/12/2016
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPESTOQUEREP (
	CDEMPRESA VARCHAR(20) NOT NULL,
	CDREPRESENTANTE VARCHAR(20) NOT NULL,
	CDPRODUTO VARCHAR(20) NOT NULL,
	CDITEMGRADE1 VARCHAR(20) NOT NULL,
	CDITEMGRADE2 VARCHAR(20) NOT NULL,
	CDITEMGRADE3 VARCHAR(20) NOT NULL,
	CDLOCALESTOQUE VARCHAR(20) NOT NULL,
	QTESTOQUE DECIMAL(16, 7) NULL,
	DTESTOQUE DATETIME NULL,
	HRESTOQUE VARCHAR(5) NULL,
	FLTIPOALTERACAO CHAR(1) NULL,
	NUCARIMBO DECIMAL(9,0),
	CDUSUARIO VARCHAR(8),
 CONSTRAINT PK_TBLVPESTOQUEREP PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDITEMGRADE1, CDITEMGRADE2, CDITEMGRADE3, CDLOCALESTOQUE, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 26/12/2016
Autor: Leonardo Machado Fernandes 
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPAGAMENTO ADD FLUSAVENCIMENTO CHAR(1);
GO

--VERSAO 4.395

/*-------------------------------------------------------------------------
Data: 05/12/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD DSEMAILSDESTINO VARCHAR(1000) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD DSEMAILSDESTINO VARCHAR(1000) NULL;
GO

/*-------------------------------------------------------------------------
Data: 21/12/2016
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPEMPRESAENDERECO (
	CDEMPRESA           VARCHAR(20)         NOT NULL,
	DSCIDADE            VARCHAR(100)        NOT NULL,
	DSBAIRRO            VARCHAR(100)        NOT NULL,
	DSDIASENTREGA       VARCHAR(20)         NULL,
	NUCARIMBO           DECIMAL(9,0)        NULL,
	FLTIPOALTERACAO     CHAR(1)             NULL,
	CDUSUARIO           VARCHAR(8)          NOT NULL,
	CONSTRAINT PK_TBLVPEMPRESAENDERECO PRIMARY KEY (CDEMPRESA, DSCIDADE, DSBAIRRO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 13/12/2016
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD DTENTREGALIBERADA DATETIME;
GO

ALTER TABLE TBLVPPEDIDOERP ADD DTENTREGALIBERADA DATETIME;
GO

/*-------------------------------------------------------------------------
Data: 21/12/2016
Autor: Tiago
Descrição: Novo campo
------------------------------------------------------------------------*/

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTVERBARATEIO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTVERBARATEIO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUTO ADD FLESPECIAL CHAR(1);
GO

/*==============================================================*/
/* Table: TBLVPPRODUTOMARGEM                                    */
/*==============================================================*/
CREATE TABLE TBLVPPRODUTOMARGEM (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   CDPRODUTO            VARCHAR(20)          NOT NULL,
   CDRAMOATIVIDADE      VARCHAR(20)          NOT NULL,
   VLPCTMARGEMDESCONTO  DECIMAL(16,7)        NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPPRODUTOMARGEM PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDRAMOATIVIDADE, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 13/12/2016
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPFERIADOEMPRESA( 
     CDEMPRESA           VARCHAR(20)      NOT NULL, 
     NUDIA               DECIMAL(2,0)     NOT NULL, 
     NUMES               DECIMAL(2,0)     NOT NULL, 
     NUANO               DECIMAL(4,0)     NOT NULL, 
     DSFERIADO           VARCHAR(100)     NULL, 
	 NUCARIMBO           DECIMAL(9,0)     NULL,
     FLTIPOALTERACAO     CHAR(1)          NULL, 
	 CDUSUARIO           VARCHAR(8)       NOT NULL,
     CONSTRAINT PK_TBLVPFERIADOEMPRESA PRIMARY KEY(CDEMPRESA, NUDIA, NUMES, NUANO, CDUSUARIO) 
) 
GO

--VERSAO 4.400

/*-------------------------------------------------------------------------
Data: 12/01/2017
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTMARGEMPRODUTO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDO ADD CDVERBA VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTMARGEMPRODUTO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD CDVERBA VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPPRODUTO ADD VLPCTMARGEMPRODUTO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPTABELAPRECO ADD CDVERBA VARCHAR(20) NULL;
GO

--VERSAO 4.405

/*-------------------------------------------------------------------------
Autor: Fernando	
Data: 10/01/2017
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPGIROPRODUTO ADD CDITEMGRADE1 VARCHAR(20) DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPGIROPRODUTO ADD CDITEMGRADE2 VARCHAR(20) DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPGIROPRODUTO ADD CDITEMGRADE3 VARCHAR(20) DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPGIROPRODUTO ADD CDTABELAPRECO VARCHAR(30);
GO

ALTER TABLE TBLVPGIROPRODUTO DROP CONSTRAINT PK_TBLVPGIROPRODUTO;
GO

--ORACLE
DROP INDEX PK_TBLVPGIROPRODUTO;
--/ORACLE

ALTER TABLE TBLVPGIROPRODUTO ADD CONSTRAINT PK_TBLVPGIROPRODUTO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDPRODUTO, CDITEMGRADE1, CDITEMGRADE2, CDITEMGRADE3, CDUSUARIO);
GO

/*-------------------------------------------------------------------------
Data: 26/01/2017
Autor: Renan
Descrição: Nova coluna (Pda)
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD CDTRIBUTACAOCLIENTE2 VARCHAR(20);
GO

--VERSAO 4.408

/*-------------------------------------------------------------------------
Data: 06/01/2017
Autor: Tiago
Descrição: Novo campo	
------------------------------------------------------------------------*/

ALTER TABLE TBLVPPRODUTOGRADE ADD CDTABELAPRECO VARCHAR(30) DEFAULT '0' NOT NULL;
GO

ALTER TABLE TBLVPPRODUTOGRADE DROP CONSTRAINT PK_TBLVPPRODUTOGRADE;
GO

--ORACLE
DROP INDEX PK_TBLVPPRODUTOGRADE;
--/ORACLE

ALTER TABLE TBLVPPRODUTOGRADE ADD CONSTRAINT PK_TBLVPPRODUTOGRADE PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDITEMGRADE1, CDITEMGRADE2, CDITEMGRADE3, CDTABELAPRECO, CDUSUARIO);
GO

--VERSAO 4.410

/*-------------------------------------------------------------------------
Data: 02/02/2017
Autor: Ricardo
Descrição: alteração de tabela
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDOBOLETO DROP COLUMN NUNOSSONUMERO;
GO

ALTER TABLE TBLVPPEDIDOBOLETO ADD NUNOSSONUMERO VARCHAR(30);
GO

/*-------------------------------------------------------------------------
Data: 04/01/2017
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCAMPO ADD DSCAMPORELACIONADO VARCHAR(30) NULL;
GO

--VERSÃO 4.414

/*-------------------------------------------------------------------------
Autor: Tiago	
Data: 02/02/2017
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPNOVOCLIENTE ADD DSEMAIL VARCHAR(100);
GO

--VERSÃO 4.415

/*-------------------------------------------------------------------------
Data: 19/01/2017
Autor: Renan
Descrição: Nova coluna (Pda)
------------------------------------------------------------------------*/
ALTER TABLE TBLVPVISITA ADD FLVISITAMANUAL CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 07/02/2017
Autor: Eduardo
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD DTCARREGAMENTO DATETIME NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD DTCARREGAMENTO DATETIME NULL;
GO

--VERSÃO 4.421

/*-------------------------------------------------------------------------
Autor: Renan	
Data: 06/02/2017
Descrição: Novas colunas (PDA)
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD QTMIXCOTAITENS DECIMAL(9,0);
GO

ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD VLCOTAITENS DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDO ADD FLCOTACONDPAGTO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLCOTACONDPAGTO CHAR(1);
GO

--VERSÃO 4.423

/*-------------------------------------------------------------------------
Autor: Eduardo
Data: 03/02/2017
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTCONTRATOCLI DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTCONTRATOCLI DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDO ADD FLDECISAOCALCULO CHAR(1) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLDECISAOCALCULO CHAR(1) NULL;
GO

/*-------------------------------------------------------------------------
Data: 12/01/2017
Autor: Tiago
Descrição: Nova coluna na tabela TipoPedido
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLENVIAEMAIL CHAR(1);
GO

/*------------------------------------------------------------------------
Data: 17/01/2017
Autor: Fernando
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLINSERELOTE CHAR(1);
GO


--VERSÃO 4.427

/*-------------------------------------------------------------------------
Data: 06/02/2017
Autor: Eduardo
Descrição: alteração de tabela
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDUSUARIOLIBENTREGA VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDUSUARIOLIBENTREGA VARCHAR(20) NULL;
GO

/*-------------------------------------------------------------------------
Autor: Eduardo
Data: 09/02/2017
Descrição: Nova coluna
------------------------------------------------------------------------*/

ALTER TABLE TBLVPUSUARIOCONFIGEMP ADD VLPCTMAXACRESCIMO DECIMAL(16,7) NULL;
GO

ALTER TABLE TBLVPUSUARIORELREP ADD VLPCTMAXACRESCIMO DECIMAL(16,7) NULL;
GO

/*-------------------------------------------------------------------------
Data: 23/02/2017
Autor: Tiago
Descrição: Nova tabela TBLVPPEDIDOLOG
------------------------------------------------------------------------*/
/*==============================================================*/
/* Table: TBLVPPEDIDOLOG                                    */
/*==============================================================*/
CREATE TABLE TBLVPPEDIDOLOG (
	CDEMPRESA				VARCHAR(20)			NOT NULL,
	CDREPRESENTANTE			VARCHAR(20)			NOT NULL,
	FLORIGEMPEDIDO			CHAR(1)				NOT NULL,
	NUPEDIDO				VARCHAR(30)			NOT NULL,
	DTACAO					DATETIME			NOT NULL,
	HRACAO					VARCHAR(8)			NOT NULL,
	CDMOTIVOCANCELAMENTO 	VARCHAR(20)			NULL,
	CDSTATUSPEDIDO			VARCHAR(20)			NULL,
	VLTOTALPEDIDO			DECIMAL(16,7)		NULL,
	DTENTREGA				DATETIME			NULL,
	DTENTREGALIBERADA		DATETIME			NULL,
	CDUSUARIOLIBENTREGA 	VARCHAR(20)			NULL,
	CDTIPOPEDIDO			VARCHAR(20)			NULL,
	NUORDEMCOMPRACLIENTE	VARCHAR(20)			NULL,
	CDCONDICAOCOMERCIAL		VARCHAR(20)			NULL,
	DSOBSERVACAO			VARCHAR(4000)		NULL,
	DSOBSERVACAONOTAFISCAL	VARCHAR(4000)		NULL,
	FLEMERGENCIAL			CHAR(1)				NULL,
	CDMOTIVOEMERGENCIA		VARCHAR(20)			NULL,
	DSOBSEMERGENCIA			VARCHAR(4000)		NULL,
	NUPEDIDORELEMERGENCIAL	VARCHAR(30)			NULL,
	CDUSUARIOAUTORIZACAO	VARCHAR(20)			NULL,
	FLENVIAEMAIL			CHAR(1)				NULL,
	DSEMAILSDESTINO			VARCHAR(1000)		NULL,
	CDENDERECOCLIENTE		VARCHAR(20)			NULL,
	FLTIPOREGISTRO			CHAR(1)				NULL,
	FLORIGEMACAO 			CHAR(1)				NULL,
	CDUSUARIOCRIACAO        VARCHAR(20)         NULL,
	NUCARIMBO               DECIMAL(9,0)        NULL,
	CDUSUARIO				VARCHAR(8)			NOT NULL,
	FLTIPOALTERACAO			CHAR(1)				NULL
)
GO

ALTER TABLE TBLVPPEDIDOLOG
   ADD CONSTRAINT PK_TBLVPPEDIDOLOG PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, DTACAO, HRACAO, CDUSUARIO)
GO

/*-------------------------------------------------------------------------
Data: 23/02/2017
Autor: Tiago
Descrição: Nova tabela TBLVPITEMPEDIDOLOG
------------------------------------------------------------------------*/
/*==============================================================*/
/* Table: TBLVPITEMPEDIDOLOG                                    */
/*==============================================================*/
CREATE TABLE TBLVPITEMPEDIDOLOG (
	CDEMPRESA				VARCHAR(20)				NOT NULL,
	CDREPRESENTANTE			VARCHAR(20)				NOT NULL,
	FLORIGEMPEDIDO			CHAR(1)					NOT NULL,
	NUPEDIDO				VARCHAR(30)				NOT NULL,
	CDPRODUTO				VARCHAR(20)				NOT NULL,
	FLTIPOITEMPEDIDO		CHAR(1)					NOT NULL,
	NUSEQPRODUTO			DECIMAL(9,0)				NOT NULL,
	DTACAO					DATETIME				NOT NULL,
	HRACAO					VARCHAR(8)				NOT NULL,
	QTITEMFISICO			DECIMAL(16,7)			NULL,
	QTITEMFATURAMENTO		DECIMAL(16,7)			NULL,
	CDUNIDADE				VARCHAR(20)				NULL,
	VLITEMPEDIDO			DECIMAL(16,7)			NULL,
	VLTOTALITEMPEDIDO		DECIMAL(16,7)			NULL,
	VLPCTDESCONTO			DECIMAL(16,7)			NULL,
	VLPCTACRESCIMO			DECIMAL(16,7)			NULL,
	VLVERBAITEM				DECIMAL(16,7)			NULL,
	VLVERBAITEMPOSITIVO		DECIMAL(16,7)			NULL,
	CDUSUARIOLIBERACAO		VARCHAR(8)				NULL,
	FLTIPOREGISTRO			CHAR(1)					NULL,
	FLORIGEMACAO 			CHAR(1)					NULL,
	CDUSUARIOCRIACAO		VARCHAR(20)				NULL,
	NUCARIMBO               DECIMAL(9,0)            NULL,
	CDUSUARIO				VARCHAR(8)			    NOT NULL,
	FLTIPOALTERACAO			CHAR(1)					NULL
)
GO

ALTER TABLE TBLVPITEMPEDIDOLOG
   ADD CONSTRAINT PK_TBLVPITEMPEDIDOLOG PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, CDPRODUTO, FLTIPOITEMPEDIDO, NUSEQPRODUTO, DTACAO, HRACAO, CDUSUARIO)
GO

--VERSÃO 4.429

/*-------------------------------------------------------------------------
Data: 23/01/2017
Autor: Fernando
Descrição: Novas tabelas
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPRODUCAOPROD (
	CDEMPRESA		VARCHAR(20)		NOT NULL,
	CDPRODUTO		VARCHAR(20)		NOT NULL,
	DTINICIAL		DATETIME		NOT NULL,
	DTFINAL			DATETIME		NOT NULL,
	QTDPRODUCAOPROD DECIMAL(9,0)    NULL,
	QTDDISPONIVEL	DECIMAL(9,0)	NULL,
	FLESTOQUEEXCLUIDO CHAR(1)		NULL,
	NUCARIMBO		DECIMAL(9,0)	NULL,
	FLTIPOALTERACAO CHAR(1)			NULL,
	CDUSUARIO		VARCHAR(8)		NOT NULL,
CONSTRAINT PK_TBLVPPRODUCAOPROD PRIMARY KEY (CDEMPRESA, CDPRODUTO, DTINICIAL, DTFINAL, CDUSUARIO)
)
GO


CREATE TABLE TBLVPPRODUCAOPRODREP (
	CDEMPRESA		VARCHAR(20)		NOT NULL,
	CDREPRESENTANTE VARCHAR(20)		NOT NULL,
	CDPRODUTO		VARCHAR(20)		NOT NULL,
	DTINICIAL		DATETIME		NOT NULL,
	DTFINAL			DATETIME		NOT NULL,
	QTDRATEIOPRODUCAO DECIMAL(9,0)    NULL,
	NUCARIMBO		DECIMAL(9,0)	NULL,
	FLTIPOALTERACAO CHAR(1)			NULL,
	CDUSUARIO		VARCHAR(8)		NOT NULL,
CONSTRAINT PK_TBLVPPRODUCAOPRODREP PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, DTINICIAL, DTFINAL, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Autor: Renan	
Data: 06/02/2017
Descrição: Novas colunas (PDA)
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDCONTATO VARCHAR(20);
GO

ALTER TABLE TBLVPCONTATOERP ADD FLDEFAULT CHAR(1);
GO

--VERSÃO 4.431

/*-------------------------------------------------------------------------
Data: 06/03/2017
Autor: Gustavo
Descrição: Nova coluna na tabela de Tributação
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPTRIBUTACAO ADD FLMEDICAMENTO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDCONTATO VARCHAR(20);
GO

--VERSÃO 4.433

/*-------------------------------------------------------------------------
Data: 17/02/2017
Autor: Tiago
Descrição: Nova coluna 
------------------------------------------------------------------------*/

ALTER TABLE TBLVPCAMPO ADD VLMINIMO DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDCONTATO VARCHAR(20);
GO

--VERSÃO 4.434

/*-------------------------------------------------------------------------
Data: 17/03/2017
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna 
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPITEMTABELAPRECO ADD VLMINITEMPEDIDO DECIMAL(16,7);
GO


--VERSÃO 4.436

/*-------------------------------------------------------------------------
Data: 15/03/2017
Autor: Renan
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD VLPCTMAXDESCONTO DECIMAL(16,7);
GO

ALTER TABLE TBLVPTIPOPEDIDO ADD VLPCTMAXACRESCIMO DECIMAL(16,7);
GO


--VERSÃO 4.438

/*-------------------------------------------------------------------------
Data: 20/03/2017
Autor: Tiago
Descrição: Nova tabela e novas colunas
------------------------------------------------------------------------*/ 

CREATE TABLE TBLVPUSUARIOCARIMBO (
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   NMTABELA             VARCHAR(30)          NOT NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   CONSTRAINT PK_TBLVPUSUARIOCARIMBO PRIMARY KEY (CDUSUARIO, NMTABELA)
)
go


ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCQUANTIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPEMPRESA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTRANSPTIPOPED ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPNFE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSUPERVISORREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCVIDAUTILGRUPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSUGESTAOVENDAGRUPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSTATUSNFE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTABELAPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRAMOATIVIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTABELAPRECOCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPENTIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPREDE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPHISTORICOPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTABELAPRECOREG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBAGRUPOSALDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONFIGINTERNO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCARGAPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMENSAGEMEXCEC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTABELAPRECOREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFACEAMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCOLETAGPS ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCCOMIFAIXA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCARGAPROGRAMADA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFACEAMENTOESTOQUE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOFRETECLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCCOMI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOCONDPAGTOCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFICHAFINANCEIRA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDODESCERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAVENDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMNFEREFERENCIA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOENTREGA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFORNECEDOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMOTIVOCOLETA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFAMILIA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPESTOQUEREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOFRETE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFOTOPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBAFORNECEDOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAVENDATIPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPENDERECOGPSPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMNFE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOITEMGRADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGIROPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMOTCANCELPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAVENDAREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPEMPRESAENDERECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPONOVIDADEPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPOPRODTIPOPED ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPODESCPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOMARGEM ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRENTABILIDADESALDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOPAGAMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPOPRODUTO1 ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFERIADOEMPRESA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPESTOQUE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPOPRODUTO2 ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCONTOGRUPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOSISTEMA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTITULOFINANCEIRO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPOPRODUTO3 ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRESUMODIA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAUTORIZACAO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTRANSPORTADORA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPINDICADOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMENU ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMCONSIGNACAO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIORELREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFUNCAOPAPEL ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMGRADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPLOGCOMANDOPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOCONFIGEMP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOUNIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDCOMCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUNIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMKIT ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCORSISTEMA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOCONFIG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTELA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMLIBERACAO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMKITPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPESQUEMACORSISTEMA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCAMPOTELA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIODESC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOPDAREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMKITPEDIDOERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDODESC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTEENDERECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOWEB ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDOERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAGENDAVISITA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMOTIVOAGENDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVISITAPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVALORINDICADOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDOERPDIF ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAREAVENDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOSUPERVISOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVALORPARAMETRO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDOGRADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPOCLIPERMPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAREAVENDACLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAGENDAATENDIMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCENTROCUSTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDOGRADEERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAREAVENDAPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMCONTA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRENTABILIDADEFAIXA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBACLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPATRIBUTOOPCAOPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLASSEVALOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCOMIRENTABILIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBACONTACOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPKIT ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPATRIBUTOPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCEP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPINFOFRETEPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFOTOCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBAITEMPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPKITTABPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTEPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPBANDEIRA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTEENDATUA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPLOGRADOURO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFOTOCLIENTEERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBAPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPLOGPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAVENDACLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCAMPANHA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPBAIRRO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDOBOLETO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTEMASISTEMA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBASALDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPLOTEPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAVENDACLIGRUPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCAMPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBATABELAPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPNOVIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCATEGORIA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOCONCORRENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPBANCO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOFRETETABPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVISITA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVERBAUSUARIO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPACAONOVIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCCCLIPORTIPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTECONC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCPROMOCIONAL ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVISITAACOMP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAACOMPANHAMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVISITAFOTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCESTA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSTATUSRENTCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTRIBUTACAOCONFIG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVISITASUPERVISOR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCESTAPOSITCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOCOMPLEMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTRIBUTACAO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETASPORCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCESTAPOSITPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTORELACIONADO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTRIBUTACAOVLBASE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETASPORFORN ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCESTAPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTODESTAQUE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCANALCLIGRUPO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCESTAPROMOCIONAL ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETASPORPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDCOMERCIALEXCEC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPEQUIPAMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDOLOG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMOTIVOTROCA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLASSIFICFISCAL ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPREGISTROLOGIN ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRESTRICAOVENDACLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDOLOG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMOTREGISTROVISITA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPNOVOCLIENDERECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRESTRICAOVENDAUN ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPNOTIFICACAOPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOFALTA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPLIMITEOPORTUNIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTESETORORIGEM ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTATOERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVARIACAOPRODEXCEC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPAGAMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONCORRENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVARIACAOPRODREG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPARCELAPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMTABELAPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVARIACAOPRODCATEG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRAZOPAGTOPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDPAGTOCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPNOVOCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPITEMPEDIDOAUD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDOERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDPAGTOLINHA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPEDIDOERPDIF ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPAGENDACADASTRO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDPAGTOTABPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTEATUA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUF ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPESQUISAMERCADO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOAGENDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDTIPOPAGTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOPAGTOCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPONTUACAO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDTIPOPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPONTOGPS ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPGRUPOPRODUTO4 ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDPAGTOPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONEXAOPDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPMETAPORGRUPOPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOATRIBUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPROTAENTREGACLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOGRADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPEQUIPAMENTOUSUARIO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONFIGINTEGWEBTC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOKIT ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONSIGNACAO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPUSUARIOCARIMBO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOPEDIDOCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSEGMENTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOSIMILAR ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTACORRENTECLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCLIENTESEG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOTABPRECO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTATO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTABELAPRECOSEG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUTOTIPOPED ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDPAGTOSEG ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTRATOCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRECADO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTRATOPRODEST ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOVEICULO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDICAOCOMERCIAL ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRELINADIMPCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTRATOPRODUTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDCOMCONDPAGTO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRELINADIMPREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSAC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONDCOMSEGCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPRELNOVIDADEPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPATENDIMENTOATIV ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPINFOENTREGAPED ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPREPRESENTANTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOSAC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSUGESTAOVENDA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPREPRESENTANTEEMP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCONTOCCP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSUBTIPOSAC ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSUGESTAOVENDAPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPROTAENTREGA ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPTIPOSACATIVIDADE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPVARIACAOPRODCLI ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPSUGESTAOVENDAREP ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCPROGQTD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPCONTATOCRM ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFOTONOVOCLIENTE ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPFERIADO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPDESCPROGRESSIVO ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUCAOPROD ADD DTALTERACAO DATETIME;
GO
ALTER TABLE TBLVPPRODUCAOPRODREP ADD DTALTERACAO DATETIME;
GO



ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCQUANTIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPEMPRESA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTRANSPTIPOPED ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPNFE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSUPERVISORREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCVIDAUTILGRUPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSUGESTAOVENDAGRUPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSTATUSNFE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTABELAPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRAMOATIVIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTABELAPRECOCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPENTIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPREDE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPHISTORICOPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTABELAPRECOREG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBAGRUPOSALDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONFIGINTERNO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCARGAPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMENSAGEMEXCEC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTABELAPRECOREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFACEAMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCOLETAGPS ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCCOMIFAIXA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCARGAPROGRAMADA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFACEAMENTOESTOQUE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOFRETECLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCCOMI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOCONDPAGTOCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFICHAFINANCEIRA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDODESCERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAVENDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMNFEREFERENCIA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOENTREGA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFORNECEDOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMOTIVOCOLETA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFAMILIA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPESTOQUEREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOFRETE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFOTOPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBAFORNECEDOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAVENDATIPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPENDERECOGPSPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMNFE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOITEMGRADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGIROPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMOTCANCELPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAVENDAREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPEMPRESAENDERECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPONOVIDADEPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPOPRODTIPOPED ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPODESCPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOMARGEM ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRENTABILIDADESALDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOPAGAMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPOPRODUTO1 ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFERIADOEMPRESA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPESTOQUE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPOPRODUTO2 ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCONTOGRUPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOSISTEMA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTITULOFINANCEIRO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPOPRODUTO3 ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRESUMODIA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAUTORIZACAO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTRANSPORTADORA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPINDICADOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMENU ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMCONSIGNACAO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIORELREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFUNCAOPAPEL ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMGRADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPLOGCOMANDOPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOCONFIGEMP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOUNIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDCOMCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUNIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMKIT ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCORSISTEMA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOCONFIG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTELA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMLIBERACAO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMKITPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPESQUEMACORSISTEMA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCAMPOTELA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIODESC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOPDAREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMKITPEDIDOERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDODESC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTEENDERECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOWEB ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDOERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAGENDAVISITA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMOTIVOAGENDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVISITAPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVALORINDICADOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDOERPDIF ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAREAVENDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOSUPERVISOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVALORPARAMETRO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDOGRADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPOCLIPERMPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAREAVENDACLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAGENDAATENDIMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCENTROCUSTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDOGRADEERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAREAVENDAPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMCONTA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRENTABILIDADEFAIXA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBACLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPATRIBUTOOPCAOPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLASSEVALOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCOMIRENTABILIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBACONTACOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPKIT ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPATRIBUTOPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCEP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPINFOFRETEPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFOTOCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBAITEMPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPKITTABPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTEPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPBANDEIRA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTEENDATUA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPLOGRADOURO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFOTOCLIENTEERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBAPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPLOGPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAVENDACLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCAMPANHA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPBAIRRO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDOBOLETO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTEMASISTEMA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBASALDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPLOTEPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAVENDACLIGRUPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCAMPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBATABELAPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPNOVIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCATEGORIA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOCONCORRENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPBANCO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOFRETETABPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVISITA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVERBAUSUARIO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPACAONOVIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCCCLIPORTIPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTECONC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCPROMOCIONAL ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVISITAACOMP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAACOMPANHAMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVISITAFOTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCESTA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSTATUSRENTCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTRIBUTACAOCONFIG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVISITASUPERVISOR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCESTAPOSITCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOCOMPLEMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTRIBUTACAO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETASPORCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCESTAPOSITPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTORELACIONADO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTRIBUTACAOVLBASE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETASPORFORN ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCESTAPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTODESTAQUE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCANALCLIGRUPO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCESTAPROMOCIONAL ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETASPORPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDCOMERCIALEXCEC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPEQUIPAMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDOLOG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMOTIVOTROCA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLASSIFICFISCAL ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPREGISTROLOGIN ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRESTRICAOVENDACLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDOLOG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMOTREGISTROVISITA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPNOVOCLIENDERECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRESTRICAOVENDAUN ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPNOTIFICACAOPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOFALTA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPLIMITEOPORTUNIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTESETORORIGEM ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTATOERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVARIACAOPRODEXCEC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPAGAMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONCORRENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVARIACAOPRODREG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPARCELAPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMTABELAPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVARIACAOPRODCATEG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRAZOPAGTOPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDPAGTOCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPNOVOCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPITEMPEDIDOAUD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDOERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDPAGTOLINHA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPEDIDOERPDIF ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPAGENDACADASTRO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDPAGTOTABPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTEATUA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUF ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPESQUISAMERCADO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOAGENDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDTIPOPAGTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOPAGTOCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPONTUACAO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDTIPOPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPONTOGPS ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPGRUPOPRODUTO4 ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDPAGTOPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONEXAOPDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPMETAPORGRUPOPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOATRIBUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPROTAENTREGACLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOGRADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPEQUIPAMENTOUSUARIO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONFIGINTEGWEBTC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOKIT ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONSIGNACAO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPUSUARIOCARIMBO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOPEDIDOCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSEGMENTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOSIMILAR ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTACORRENTECLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCLIENTESEG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOTABPRECO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTATO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPAGAMENTOPEDIDO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTABELAPRECOSEG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUTOTIPOPED ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPAGAMENTOPEDIDOERP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDPAGTOSEG ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTRATOCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRECADO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTRATOPRODEST ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOVEICULO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDICAOCOMERCIAL ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRELINADIMPCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTRATOPRODUTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDCOMCONDPAGTO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRELINADIMPREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSAC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONDCOMSEGCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPRELNOVIDADEPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPATENDIMENTOATIV ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPINFOENTREGAPED ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPREPRESENTANTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOSAC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSUGESTAOVENDA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPREPRESENTANTEEMP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCONTOCCP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSUBTIPOSAC ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSUGESTAOVENDAPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPROTAENTREGA ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPTIPOSACATIVIDADE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPVARIACAOPRODCLI ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPSUGESTAOVENDAREP ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCPROGQTD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPCONTATOCRM ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFOTONOVOCLIENTE ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPFERIADO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPDESCPROGRESSIVO ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUCAOPROD ADD HRALTERACAO VARCHAR(8);
GO
ALTER TABLE TBLVPPRODUCAOPRODREP ADD HRALTERACAO VARCHAR(8);
GO

--VERSÃO 4.442

/*-------------------------------------------------------------------------
Data: 24/03/2017
Autor: Leonardo Machado Fernandes
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLIGNORAESTOQUEREPLICACAO CHAR(1);
GO

ALTER TABLE TBLVPTIPOPEDIDO ADD FLREVALIDAESTOQUEFECHAMENTO CHAR(1);
GO

--VERSÃO 4.448

/*-------------------------------------------------------------------------
Data: 27/03/2017
Autor: Gustavo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDODESC ADD DTLIBERACAO DATETIME;
GO

ALTER TABLE TBLVPPEDIDODESC ADD HRLIBERACAO VARCHAR(8);
GO

ALTER TABLE TBLVPPEDIDODESCERP ADD DTLIBERACAO DATETIME;
GO

ALTER TABLE TBLVPPEDIDODESCERP ADD HRLIBERACAO VARCHAR(8);
GO


--VERSÃO 4.451

/*------------------------------------------------------------------------
Data: 21/03/2017
Autor: Leonardo Machado Fernandes
Descrição: Novo campo
------------------------------------------------------------------------*/
ALTER TABLE TBLVPAGENDAVISITA ADD HRAGENDAFIM VARCHAR(8);
GO

ALTER TABLE TBLVPAGENDACADASTRO ADD HRAGENDAFIM VARCHAR(8);
GO


--VERSÃO 4.460

/*------------------------------------------------------------------------
Data: 21/04/2017
Autor: Renan
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPITEMTITULOFINAN (
	CDEMPRESA 				VARCHAR(20) NOT NULL,
	CDREPRESENTANTE 		VARCHAR(20) NOT NULL,
	CDCLIENTE 				VARCHAR(20) NOT NULL,
	CDTITULO	 			VARCHAR(20) NOT NULL,
	NUNF					VARCHAR(20) NOT NULL,
	CDITEM			 		VARCHAR(20) NOT NULL,
	VLUNITITEM		 		DECIMAL(16,7) NULL,
	QTDITEM			 		DECIMAL(16,7) NULL,
	VLTOTALITEM			 	DECIMAL(16,7) NULL,
	NUCARIMBO 				DECIMAL(9,0) NULL,
	FLTIPOALTERACAO 		CHAR(1) NULL,
	DTALTERACAO				DATETIME NULL,
	HRALTERACAO				VARCHAR(8) NULL,
	CDUSUARIO				VARCHAR(8) NOT NULL
)
GO

ALTER TABLE TBLVPITEMTITULOFINAN ADD CONSTRAINT PK_TBLVPITEMTITULOFINAN PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDTITULO, NUNF, CDITEM, CDUSUARIO);
GO

--VERSÃO 4.461

/*-------------------------------------------------------------------------
Data: 20/03/2017
Autor: Eduardo
Descrição: Nova tabela
------------------------------------------------------------------------*/ 

CREATE TABLE TBLVPPRODUTODESEJADO (
   CDPRODUTODESEJADO    VARCHAR(20)          NOT NULL,
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   DSPRODUTODESEJADO    VARCHAR(100)         NULL,
   CDCONCORRENTE        VARCHAR(20)          NULL,
   DSOUTROCONCORRENTE   VARCHAR(100)         NULL,
   CDUSUARIOEMISSAO     VARCHAR(20)          NULL,
   DTEMISSAOPEDIDO      DATETIME             NULL,
   FLORIGEMREGISTRO     CHAR(1)              NULL,
   FLOUTROCONCORRENTE   CHAR(1)              NULL,
   DTALTERACAO		DATETIME	     NULL,
   HRALTERACAO   	VARCHAR(8)	     NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)          NOT NULL,
   CONSTRAINT PK_TBLVPPRODUTODESEJADO PRIMARY KEY (CDPRODUTODESEJADO, CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, CDUSUARIO)
)
GO


--VERSÃO 4.464

/*-------------------------------------------------------------------------
Autor: Renan
Data: 09/03/2017
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDCLIENTEENTREGA VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDCLIENTEENTREGA VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPTIPOPEDIDO ADD FLINDICACLIENTEENTREGA CHAR(1) NULL;
GO

--VERSÃO 4.466

/*-------------------------------------------------------------------------
Data: 21/04/2017
Autor: Ricardo
Descrição: Novas colunas na tabela ItemPedido e ItemPedidoErp
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPITEMPEDIDO ADD VLITEMPEDIDOSTREVERSO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLPCTDESCONTOSTREVERSO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLITEMPEDIDOSTREVERSO DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLPCTDESCONTOSTREVERSO DECIMAL(16,7);
GO


--VERSÃO 4.470

/*------------------------------------------------------------------------
Data: 18/04/2017
Autor: Leonardo Machado Fernandes
Descrição: Novas tabelas
------------------------------------------------------------------------*/
CREATE TABLE TBLVPSTATUSATIVIDADE (
   CDSTATUSATIVIDADE VARCHAR(20)          NOT NULL,
   DSSTATUSATIVIDADE VARCHAR(100)         NULL,
   NUCARIMBO         DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO   CHAR(1)              NULL,
   CDUSUARIO         VARCHAR(8)           NOT NULL,
   DTALTERACAO       DATETIME             NULL,
   HRALTERACAO       VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPSTATUSATIVIDADE PRIMARY KEY (CDSTATUSATIVIDADE, CDUSUARIO)
)
GO	

CREATE TABLE TBLVPATIVIDADEPEDIDO  (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   NUSEQUENCIA          DECIMAL(9,0)        NOT NULL,
   CDSTATUSATIVIDADE    VARCHAR(20)          NULL,
   CDUSUARIOCRIACAO     VARCHAR(20)          NULL,
   NMUSUARIOCRIACAO     VARCHAR(100)         NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   DTALTERACAO          DATETIME             NULL,
   HRALTERACAO          VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPATIVIDADEPEDIDO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, FLORIGEMPEDIDO, NUPEDIDO, NUSEQUENCIA, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Autor: Gustavo Bitencourt
Data: 17/04/2017
Descrição: Novas tabelas (FOTOPEDIDO e FOTOPEDIDOERP)
------------------------------------------------------------------------*/
CREATE TABLE TBLVPFOTOPEDIDO (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NMFOTO               VARCHAR(100)         NOT NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   FLENVIADOSERVIDOR    CHAR(1)              NULL,   
   NUTAMANHO            DECIMAL(9)           NULL,
   DTMODIFICACAO        DATETIME             NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   DTALTERACAO          DATETIME             NULL,
   HRALTERACAO          VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPFOTOPEDIDO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, FLORIGEMPEDIDO, NMFOTO, CDUSUARIO)
)
GO

CREATE TABLE TBLVPFOTOPEDIDOERP (
   CDEMPRESA            VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)          NOT NULL,
   NUPEDIDO             VARCHAR(30)          NOT NULL,
   FLORIGEMPEDIDO       CHAR(1)              NOT NULL,
   NMFOTO               VARCHAR(100)         NOT NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   FLENVIADOSERVIDOR    CHAR(1)              NULL,   
   NUTAMANHO            DECIMAL(9)           NULL,
   DTMODIFICACAO        DATETIME             NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   DTALTERACAO          DATETIME             NULL,
   HRALTERACAO          VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPFOTOPEDIDOERP PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, NUPEDIDO, FLORIGEMPEDIDO, NMFOTO, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 25/04/2017
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPDOCUMENTOANEXO (
 CDEMPRESA		  VARCHAR(20)	NOT NULL,
 CDREPRESENTANTE  VARCHAR(20)	NOT NULL,
 NMENTIDADE		  VARCHAR(30)	NOT NULL,
 DSCHAVE		  VARCHAR(500)	NOT NULL,
 CDDOCUMENTOANEXO DECIMAL(9)	NOT NULL,
 NMARQUIVO        VARCHAR(100)  NULL,
 BAARQUIVO        VARCHAR(200)  NULL,
 DTDOCUMENTO      DATETIME	    NULL,
 CDUSUARIO		  VARCHAR(8)	NOT NULL,
 NUCARIMBO		  DECIMAL(9)	NULL,
 FLTIPOALTERACAO  CHAR(1)		NULL,
 DTALTERACAO      DATETIME      NULL,
 HRALTERACAO      VARCHAR(8)    NULL,
 CONSTRAINT PK_TBLVPDOCUMENTOANEXO PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, NMENTIDADE, DSCHAVE, CDDOCUMENTOANEXO, CDUSUARIO)
)
GO


--VERSÃO 4.473

/*-------------------------------------------------------------------------
Data: 03/05/2017
Autor: Renan
Descrição: Nova coluna
------------------------------------------------------------------------*/ 
ALTER TABLE TBLVPCONDICAOPAGAMENTO ADD FLINFORMADADOS CHAR(1);
GO


--VERSÃO 4.479

/*------------------------------------------------------------------------
Data: 18/05/2017
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD VLTONFRETE DECIMAL (16,7);
GO

/*-------------------------------------------------------------------------
Data: 25/05/2017
Autor: Leonardo Machado Fernandes
Descrição: Alteração de tabelas
------------------------------------------------------------------------*/ 
DROP TABLE TBLVPTIPONOVIDADEPROD;

CREATE TABLE TBLVPTIPONOVIDADE (
   CDEMPRESA       VARCHAR(20)          NOT NULL,
   CDTIPONOVIDADE  VARCHAR(20)          NOT NULL,
   DSTIPONOVIDADE  VARCHAR(100)         NULL,
   NUCARIMBO       DECIMAL(9,0)         NULL,
   CDUSUARIO       VARCHAR(8)           NOT NULL,
   FLTIPOALTERACAO CHAR(1)              NULL,
   DTALTERACAO     DATETIME             NULL,
   HRALTERACAO     VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPTIPONOVIDADE PRIMARY KEY (CDEMPRESA, CDTIPONOVIDADE, CDUSUARIO)
)
GO

DROP TABLE TBLVPRELNOVIDADEPROD;

CREATE TABLE TBLVPRELNOVIDADEPROD (
   CDEMPRESA          VARCHAR(20)          NOT NULL,
   CDREPRESENTANTE    VARCHAR(20)          NOT NULL,
   CDPRODUTO          VARCHAR(20)          NOT NULL,
   CDTIPONOVIDADE     VARCHAR(20)          NOT NULL,
   DSPRODUTO          VARCHAR(100)         NULL,
   DSNOVIDADEPRODUTO  VARCHAR(100)         NULL,
   DTEMISSAORELATORIO DATETIME             NULL,
   NUCARIMBO          DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO    CHAR(1)              NULL,
   CDUSUARIO          VARCHAR(8)           NOT NULL,
   DTALTERACAO        DATETIME             NULL,
   HRALTERACAO        VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPRELNOVIDADEPROD PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDPRODUTO, CDTIPONOVIDADE, CDUSUARIO)
)
GO

/*------------------------------------------------------------------------
Data: 26/05/2017
Autor: Leonardo Machado Fernandes
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPRELNOVIDADECLI (
   CDEMPRESA          VARCHAR(20)        NOT NULL,
   CDREPRESENTANTE    VARCHAR(20)        NOT NULL,
   CDCLIENTE          VARCHAR(20)        NOT NULL,
   CDTIPONOVIDADE     VARCHAR(20)        NOT NULL,
   NMRAZAOSOCIAL      VARCHAR(100)       NULL,
   DSNOVIDADECLIENTE  VARCHAR(100)       NULL,	
   DTEMISSAORELATORIO DATETIME           NULL,
   NUCARIMBO          DECIMAL(9,0)       NULL,
   FLTIPOALTERACAO    CHAR(1)            NULL,
   CDUSUARIO          VARCHAR(8)         NOT NULL,
   DTALTERACAO        DATETIME           NULL,
   HRALTERACAO        VARCHAR(8)         NULL,
   CONSTRAINT PK_TBLVPRELNOVIDADECLI PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDTIPONOVIDADE, CDUSUARIO)
)
GO

--VERSÃO 4.483

/*------------------------------------------------------------------------
Data: 12/05/2017
Autor: Leonardo Machado Fernandes
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD FLRESTRITO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLRESTRITO CHAR(1);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD FLRESTRITO CHAR(1);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLRESTRITO CHAR(1);
GO

ALTER TABLE TBLVPPRODUTOTABPRECO ADD FLSITUACAO DECIMAL(9,0);
GO

/*------------------------------------------------------------------------
Data: 18/05/2017
Autor: Renan
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTE ADD FLOCULTO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDREPORIGINAL VARCHAR(20);
GO

ALTER TABLE TBLVPPEDIDO ADD CDREPORIGINAL VARCHAR(20);
GO


--VERSÃO 4.489

/*-------------------------------------------------------------------------
Data: 03/05/2017
Autor: Gustavo Bitencourt
Descrição: Nova coluna em StatusPedidoPda
------------------------------------------------------------------------*/
ALTER TABLE TBLVPSTATUSPEDIDOPDA ADD FLCOMPLEMENTAVEL CHAR(1);  
GO

/*-------------------------------------------------------------------------
Data: 23/05/2017
Autor: Gustavo Bitencourt
Descrição: Novas colunas PEDIDO e PEDIDOERP
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD NUPEDCOMPRELACIONADO VARCHAR(200);
GO

ALTER TABLE TBLVPPEDIDOERP ADD NUPEDCOMPRELACIONADO VARCHAR(200);
GO

/*-------------------------------------------------------------------------
Data: 04/05/2017
Autor: Gustavo Bitencourt
Descrição: Script para atualização FLCOMPLEMENTAVEL
------------------------------------------------------------------------*/
UPDATE TBLVPSTATUSPEDIDOPDA SET FLCOMPLEMENTAVEL = 'N' WHERE DSSTATUSPEDIDO IN ('Aberto' , 'Fechado');
UPDATE TBLVPSTATUSPEDIDOPDA SET FLCOMPLEMENTAVEL = 'S' WHERE DSSTATUSPEDIDO NOT IN ('Aberto' , 'Fechado');


--VERSÃO 4.491

/*------------------------------------------------------------------------
Data: 18/05/2017
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPDESCQUANTIDADEPESO (
 CDEMPRESA		      VARCHAR(20)	    NOT NULL,
 CDREPRESENTANTE      VARCHAR(20)	    NOT NULL,
 VLPCTDESCONTO	      DECIMAL(16,7)     NOT NULL,
 VLPESO			      DECIMAL(16,7)	    NOT NULL,
 CDUSUARIO		      VARCHAR(8)		NOT NULL,
 FLTIPOALTERACAO      CHAR(1)			NULL,
 NUCARIMBO		      DECIMAL(9,0)		NULL,
 HRALTERACAO          VARCHAR(8)        NULL,
 DTALTERACAO          DATETIME          NULL,
CONSTRAINT PK_TBLVPDESCQUANTIDADEPESO PRIMARY KEY(CDEMPRESA,CDREPRESENTANTE,VLPESO,CDUSUARIO)
)
GO

/*------------------------------------------------------------------------
Data: 06/06/2017
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/

ALTER TABLE TBLVPVERBASALDO ADD VLMINVERBA DECIMAL(16,7);
GO

ALTER TABLE TBLVPPEDIDO ADD FLMINVERBALIBERADO CHAR(1);
GO

ALTER TABLE TBLVPPEDIDOERP ADD FLMINVERBALIBERADO CHAR(1);
GO


--VERSÃO 4.495 

/*------------------------------------------------------------------------
Data: 31/05/2017
Autor: Leonardo Machado Fernandes
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCONDICAONEGOCIACAO (
   CDEMPRESA            VARCHAR(20)      NOT NULL,
   CDREPRESENTANTE      VARCHAR(20)      NOT NULL,
   CDCONDICAONEGOCIACAO VARCHAR(20)      NOT NULL,
   DSCONDICAONEGOCIACAO VARCHAR(100)         NULL,
   CDLOCALESTOQUE       VARCHAR(20)          NULL,
   VLPCTESTOQUE         DECIMAL(16,7)        NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   CDUSUARIO		VARCHAR(8)	 NOT NULL,
   NUCARIMBO		DECIMAL(9)	     NULL,
   DTALTERACAO          DATETIME             NULL,
   HRALTERACAO          VARCHAR(8)           NULL,
   CONSTRAINT PK_TBLVPCONDICAONEGOCIACAO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDCONDICAONEGOCIACAO, CDUSUARIO)
)
GO

/*------------------------------------------------------------------------
Data: 31/05/2017
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDCONDNEGOCIACAO VARCHAR(20);
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDCONDNEGOCIACAO VARCHAR(20);
GO

--VERSÃO 4.495.1

/*------------------------------------------------------------------------
Data: 14/06/2017
Autor: Leonardo Machado Fernandes
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPMOTCANCELPEDIDO ADD FLCANCELAMENTOAUTO CHAR(1);
GO

/*------------------------------------------------------------------------
Data: 15/06/2017
Autor: Renan
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDOLOG ADD CDTIPOPAGAMENTO VARCHAR(20) NULL;
GO

/*------------------------------------------------------------------------
Data: 19/06/2017
Autor: Fernando
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD FLPROMOCAO CHAR(1);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLPROMOCAO CHAR(1);
GO

/*-------------------------------------------------------------------------
Data: 20/06/2017
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPERIODOENTREGA (
   CDPERIODOENTREGA     VARCHAR(20)          NOT NULL,
   DSPERIODOENTREGA     VARCHAR(100)         NOT NULL,
   HRPERIODOENTREGAINICIAL VARCHAR(8)           NOT NULL,
   HRPERIODOENTREGAFINAL VARCHAR(8)           NOT NULL,
   CDEMPRESA            VARCHAR(20)          NULL,
   NUCARIMBO            DECIMAL(9,0)         NULL,
   FLTIPOALTERACAO      CHAR(1)              NULL,
   HRALTERACAO          VARCHAR(8)           NULL,
   DTALTERACAO          DATETIME             NULL,
   CDUSUARIO            VARCHAR(8)           NOT NULL,
   CONSTRAINT PK_TBLVPPERIODOENTREGA PRIMARY KEY (CDPERIODOENTREGA, CDUSUARIO)
)
GO

/*-------------------------------------------------------------------------
Data: 22/06/2017
Autor: Fernando
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPCLIENTEENDATUA ADD CDPERIODOENTREGA VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTEENDERECO ADD CDPERIODOENTREGA VARCHAR(20);
GO

ALTER TABLE TBLVPNOVOCLIENDERECO ADD CDPERIODOENTREGA VARCHAR(20);
GO

--VERSÃO 4.497

/*-------------------------------------------------------------------------
Data: 22/06/2017
Autor: Gustavo Bitencourt
Descrição: Alterações dos tipos de dados
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPRODUCAOPROD ALTER COLUMN QTDPRODUCAOPROD DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUCAOPROD ALTER COLUMN QTDDISPONIVEL DECIMAL(16,7);
GO

ALTER TABLE TBLVPPRODUCAOPRODREP ALTER COLUMN QTDRATEIOPRODUCAO DECIMAL(16,7);
GO

--VERSÃO 4.500

/*------------------------------------------------------------------------
Data: 21/06/2017
Autor: Renan
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPEDIDO ADD FLIGNORAINSERCMULTITENS CHAR(1) NULL;
GO

--VERSÃO 4.503

/*-------------------------------------------------------------------------
Data: 31/03/2017
Autor: Tiago
Descrição: Criação das colunas dtAlteracao e hrAlteracao para tabelas dinâmicas
------------------------------------------------------------------------*/ 
--SQLSERVER
DECLARE @NMENTIDADE VARCHAR(128);
DECLARE @SQL VARCHAR(1000);

DECLARE ENTIDADES CURSOR LOCAL FOR
	SELECT T.NAME
	FROM SYS.TABLES T
	WHERE NOT EXISTS
	(
		SELECT DISTINCT OBJECT_NAME(C.OBJECT_ID)
		FROM SYS.COLUMNS C
		WHERE C.NAME IN ('DTALTERACAO', 'HRALTERACAO')
		AND OBJECT_NAME(C.OBJECT_ID) LIKE 'TBLVP%'
		AND T.OBJECT_ID = C.OBJECT_ID
	)
OPEN ENTIDADES
FETCH NEXT FROM ENTIDADES INTO @NMENTIDADE
WHILE @@FETCH_STATUS = 0
BEGIN
	IF COL_LENGTH(@NMENTIDADE, 'DTALTERACAO') IS NULL
	BEGIN
		SET @SQL = 'ALTER TABLE ' + @NMENTIDADE + ' ADD DTALTERACAO DATETIME;'
		EXECUTE (@SQL);
	END
	IF COL_LENGTH(@NMENTIDADE, 'HRALTERACAO') IS NULL
	BEGIN
		SET @SQL = 'ALTER TABLE ' + @NMENTIDADE + ' ADD HRALTERACAO VARCHAR(8);'
		EXECUTE (@SQL);
	END
FETCH NEXT FROM ENTIDADES INTO @NMENTIDADE
END
IF CURSOR_STATUS ('LOCAL', 'ENTIDADES') >= 1
BEGIN
	CLOSE ENTIDADES
	DEALLOCATE ENTIDADES
END
--/SQLSERVER


--ORACLE
DECLARE P_SQL VARCHAR(1000); P_EXISTE_DTALTERACAO INTEGER; P_EXISTE_HRALTERACAO INTEGER;
BEGIN
  FOR E IN
  (    
    SELECT T.TABLE_NAME AS NMENTIDADE
    FROM USER_TABLES T
    WHERE NOT EXISTS
    (
  		SELECT DISTINCT C.TABLE_NAME
      FROM USER_TAB_COLS C
      WHERE C.COLUMN_NAME LIKE 'DTALTERACAO'
      AND TABLE_NAME LIKE 'TBLVP%'
      AND T.TABLE_NAME = C.TABLE_NAME
    )
    UNION ALL
    SELECT T.TABLE_NAME AS NMENTIDADE
    FROM USER_TABLES T
    WHERE NOT EXISTS
    (
  		SELECT DISTINCT C.TABLE_NAME
      FROM USER_TAB_COLS C
      WHERE C.COLUMN_NAME LIKE 'HRALTERACAO'
      AND TABLE_NAME LIKE 'TBLVP%'
      AND T.TABLE_NAME = C.TABLE_NAME
    )
  ) LOOP
      P_EXISTE_DTALTERACAO := 0;
      P_EXISTE_HRALTERACAO := 0;
      
      SELECT NVL(MAX(1),0) INTO P_EXISTE_DTALTERACAO
      FROM USER_TAB_COLS
      WHERE TABLE_NAME LIKE E.NMENTIDADE AND COLUMN_NAME LIKE 'DTALTERACAO';
      
      IF P_EXISTE_DTALTERACAO = 0 THEN
        P_SQL := 'ALTER TABLE ' || E.NMENTIDADE || ' ADD DTALTERACAO DATE';
        EXECUTE IMMEDIATE (P_SQL);
      END IF;

      SELECT NVL(MAX(1),0) INTO P_EXISTE_HRALTERACAO
      FROM USER_TAB_COLS
      WHERE TABLE_NAME LIKE E.NMENTIDADE AND COLUMN_NAME LIKE 'HRALTERACAO';
     
      IF P_EXISTE_HRALTERACAO = 0 THEN
        P_SQL := 'ALTER TABLE ' || E.NMENTIDADE || ' ADD HRALTERACAO VARCHAR(8)';
        EXECUTE IMMEDIATE (P_SQL);
      END IF;
    
  END LOOP;
END;
--/ORACLE


--VERSÃO 4.505

/*-------------------------------------------------------------------------
Data: 23/05/2017
Autor: Renan
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPGRUPOPRODUTO1 ADD FLCOMPARADESC CHAR(1) NULL;
GO

/*------------------------------------------------------------------------
Data: 09/06/2017
Autor: Eduardo
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPPEDIDO ADD CDUNIDADE VARCHAR(20) NULL;
GO

ALTER TABLE TBLVPPEDIDOERP ADD CDUNIDADE VARCHAR(20) NULL;
GO


--VERSÃO 4.509

/*------------------------------------------------------------------------
Data: 31/05/2017
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPPRODUTORETIRADA (
 CDEMPRESA			VARCHAR(20)		NOT NULL,
 CDREPRESENTANTE	VARCHAR(20)		NOT NULL,
 CDCLIENTE			VARCHAR(20)		NOT NULL,
 CDPRODUTO			VARCHAR(20)		NOT NULL,
 DTCOMPRA			DATETIME		NOT NULL,
 NUNOTA				DECIMAL(9,0)	NOT NULL,
 QTCOMPRA			DECIMAL(9,0)	NOT NULL,
 NUCONTRATO			DECIMAL(9,0)	NOT NULL,
 QTRESTANTE			DECIMAL(9,0)	NOT NULL,
 DTMAXRETIRADA		DATETIME		NOT NULL,
 CDUSUARIO			VARCHAR(8)		NOT NULL,
 FLTIPOALTERACAO	CHAR(1)			NULL,
 NUCARIMBO			DECIMAL(9,0)	NULL,
 DTALTERACAO        DATETIME        NULL,
 HRALTERACAO        VARCHAR(8)      NULL,
 CONSTRAINT PK_TBLVPPRODUTORETIRADA PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, CDCLIENTE, CDUSUARIO, CDPRODUTO, DTCOMPRA, NUNOTA)
)
GO

--VERSÃO 4.513

/*------------------------------------------------------------------------
Data: 15/05/2017
Autor: Renan
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPCOMITABPRECOGRUPO(
	CDEMPRESA		VARCHAR(20)		NOT NULL,
	CDREPRESENTANTE	VARCHAR(20)		NOT NULL,
	CDTABELAPRECO	VARCHAR(30)		NOT NULL,
	CDGRUPOPRODUTO1	VARCHAR(20)		NOT NULL,
	VLPCTCOMISSAO	DECIMAL(16,7)	NULL,
	FLTIPOALTERACAO	CHAR(1)			NULL,
	NUCARIMBO		DECIMAL(9,0)	NULL,
	CDUSUARIO		VARCHAR(8)		NOT NULL,
	DTALTERACAO		DATETIME		NULL,
	HRALTERACAO		VARCHAR(8)		NULL,
	CONSTRAINT PK_TBLVPCOMITABPRECOGRUPO PRIMARY KEY (CDEMPRESA, CDREPRESENTANTE, CDTABELAPRECO, CDGRUPOPRODUTO1, CDUSUARIO)
)
GO

--VERSÃO 4.513

/*------------------------------------------------------------------------
Data: 15/05/2017
Autor: Renan
Descrição: Nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD FLVALORTABELAALTERADO CHAR(1) NULL;
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD FLVALORTABELAALTERADO CHAR(1) NULL;
GO

--VERSÃO 4.518
/*-------------------------------------------------------------------------
Data: 02/08/2017
Autor: Eduardo
Descrição: nova coluna
------------------------------------------------------------------------*/
ALTER TABLE TBLVPTIPOPAGAMENTO ADD FLRESTRITO CHAR(1) NULL;
GO


--VERSÃO 4.521

/*-------------------------------------------------------------------------
Data: 03/08/2017
Autor: Fernando
Descrição: Novas colunas
------------------------------------------------------------------------*/
ALTER TABLE TBLVPITEMPEDIDO ADD VLITEMIPI DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLITEMIPI DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDO ADD VLBASEITEMIPI DECIMAL(16,7);
GO

ALTER TABLE TBLVPITEMPEDIDOERP ADD VLBASEITEMIPI DECIMAL(16,7);
GO

--VERSÃO 4.522

/*------------------------------------------------------------------------
Data: 27/07/2017
Autor: Fernando
Descrição: Nova tabela
------------------------------------------------------------------------*/
CREATE TABLE TBLVPTRANSPORTADORAREG (
  CDEMPRESA			VARCHAR(20)	 NOT NULL,
  CDREPRESENTANTE	VARCHAR(20)	 NOT NULL,
  CDTRANSPORTADORA	VARCHAR(20)  NOT NULL,
  CDREGIAO			VARCHAR(20)	 NOT NULL,
  CDTIPOFRETE		VARCHAR(20)	 NOT NULL,
  VLMINPEDIDO		DECIMAL(16,7)	 NULL,
  FLPOSSUICONTRATO	CHAR(1)			 NULL,
  VLPCTFRETE		DECIMAL(16,7)	 NULL,
  VLMINFRETE		DECIMAL(16,7)	 NULL,
  CDUSUARIO			VARCHAR(8)	 NOT NULL,
  FLTIPOALTERACAO	CHAR(1)			 NULL,
  NUCARIMBO			DECIMAL(9,0)	 NULL,
  DTALTERACAO		DATETIME		 NULL,
  HRALTERACAO		VARCHAR(8)		 NULL,
  CONSTRAINT	PK_TBLVPTRANSPORTADORAREG	PRIMARY KEY(CDEMPRESA, CDREPRESENTANTE, CDTRANSPORTADORA, CDREGIAO, CDTIPOFRETE, CDUSUARIO)
)
GO

ALTER TABLE TBLVPTIPOFRETE ADD FLTIPOFRETECIF CHAR(1);
GO

ALTER TABLE TBLVPTIPOFRETE ADD FLCALCULAFRETE CHAR(1);
GO

ALTER TABLE TBLVPCLIENTE ADD CDTRANSPORTADORACIF VARCHAR(20);
GO

ALTER TABLE TBLVPCLIENTE ADD CDTRANSPORTADORAFOB VARCHAR(20);
GO

ALTER TABLE TBLVPTRANSPORTADORA ADD FLMOSTRAFRETE CHAR(1);
GO

ALTER TABLE TBLVPTRANSPORTADORA ADD FLSOMAFRETE CHAR(1);
GO

--VERSÃO 4.526

ALTER TABLE TBLVPTIPOPEDIDO ADD FLTRIBUTACAOGERAL CHAR(1);
GO
